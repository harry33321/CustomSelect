export default class e{constructor(e,{options:t,settings:s,events:i}={}){if("string"!=typeof e&&!(e instanceof HTMLElement)){console.error("CustomSelect: target element(1st argument) is required.");return}if(this.originalSelect=e instanceof HTMLElement?e:document.querySelector(e),!this.originalSelect){console.error("CustomSelect: target element not found.");return}if("SELECT"!==this.originalSelect.nodeName){console.error("CustomSelect: target element must be a select element.");return}this.options=t||[],this.settings={alwaysOpen:!1,closeOnSelect:!0,openDirection:"auto",openPosition:"absolute",openLocation:"body",searchEnable:!0,searchPlaceholder:"Search",searchNoResult:"No result",searchMark:!0,selectedOptionHidden:!1,checkboxMode:!1,sortMode:!1,maxValuesShown:20,maxValuesLabel:"{count} selected",allowHTML:!1,classNames:{},...s},this.events={beforeOpen(){},afterOpen(){},beforeClose(){},afterClose(){},beforeChange(e,t){},afterChange(e){},afterSort(e){},...i},this.csId=`cs-${this.#a()}`,this.csSelect=null,this.csLabel=null,this.csDropdown=null,this.csSearch=null,this.csListing=null,this.selectedValue=[],this.filterOptions=[],this.sortedOptions=[],this.openLocation=this.settings.openLocation instanceof HTMLElement?this.settings.openLocation:document.querySelector(this.settings.openLocation),this.intervalRejustPosition=null,this.isOpen=!1,this.disabled=!1,this.isMultipleSelect=this.originalSelect.multiple||!1,this.listen=!1,this.observer=new MutationObserver(e=>this.#b(e)),this.classes={select:"cs-select",label:"cs-label",dropdown:"cs-dropdown",listing:"cs-listing",option:"cs-option",optionGroup:"cs-optionGroup",optionGroupLabel:"cs-optionGroup-label",optionGroupExpandInput:"cs-optionGroup-expandInput",optionGroupListing:"cs-optionGroup-listing",arrow:"cs-arrow",checkbox:"cs-checkbox",relative:"cs-relative",openUp:"cs-open-up",openDown:"cs-open-down",selected:"cs-selected",highlighted:"cs-highlighted",disabled:"cs-disabled",hidden:"cs-hidden",selectedHidden:"cs-selectedHidden",placeholder:"cs-placeholder",searchWrapper:"cs-searchWrapper",search:"cs-search",searchNoResult:"cs-searchNoResult",searchMark:"cs-searchMark",selectedItem:"cs-selectedItem",selectedItemLabel:"cs-selectedItem-label",selectedItemRemove:"cs-selectedItem-remove",dndHandle:"cs-dndHandle"},this.classesForAdd={},Object.entries(this.classes).forEach(([e,t])=>{this.classesForAdd[e]=[...t.split(" ")];let s=this.settings.classNames[e];s&&this.classesForAdd[e].push(...s.split(" "))}),this.init(),this.#c(!0)}async #d(){let e="cs-css",t=await fetch("./components/customSelect.css").then(e=>e.text()).then(e=>e).catch(e=>{console.error(e)});if(!t||document.getElementById(e))return;let s=document.createElement("style");s.id=e,s.innerHTML=t,document.head.appendChild(s)}init(){if(this.originalSelect.style.display="none",this.originalSelect.ariaHidden=!0,this.originalSelect.addEventListener("change",e=>{if(this.isMultipleSelect){let t=Array.from(e.target.selectedOptions).map(e=>e.value);this.setSelectedValue(t)}else this.setSelectedValue(e.target.value)}),this.options=this.#e(this.options),this.filterOptions=this.options,this.#f(),this.#g(),this.#h(),document.addEventListener("click",e=>this.#i(e)),this.#j(),this.options.length){let e=this.getOptions().filter(e=>e.selected),t=e.map(e=>e.value);this.setSelectedValue(t)}this.settings.alwaysOpen&&this.#k()}#l(i){if(i.options)return{id:this.#m(i.id)||this.#a(),label:this.#m(i.label),options:i.options.map(e=>this.#l(e)),groupExpanded:this.#n(i.groupExpanded,!0)};let l=i instanceof HTMLElement?"true"===i.dataset.placeholder:i.placeholder||!1,n=l?"":i.value||i.label;return{id:this.#m(i.id)||this.#a(),label:this.#m(i.label),value:n,placeholder:l,selected:i.selected||!1,disabled:i.disabled||!1,hidden:i.hidden||!1,class:i instanceof HTMLElement?i.className||null:i.class||null,style:i instanceof HTMLElement?i.style.cssText||null:i.style||null}}#e(o=[]){if(o.length)return o.map(e=>this.#l(e));{let a=[];for(let d of this.originalSelect.children)if("OPTION"===d.nodeName&&a.push(this.#l(d)),"OPTGROUP"===d.nodeName){let r=[];for(let c of d.children)r.push(this.#l(c));a.push({id:d.id||this.#a(),label:this.#m(d.label),options:r,groupExpanded:this.#n(d.dataset.expanded,!0)})}return a}}#f(){let h=document.createElement("div");h.role="combobox",h.ariaHasPopup="listbox",h.ariaControls=this.csId,h.ariaExpanded=!1,h.id=this.csId,h.tabIndex=0,h.classList.add(...this.classesForAdd.select),h.addEventListener("keydown",e=>this.#o(e)),h.addEventListener("click",()=>this.isOpen?this.#p():this.#k());let p=document.createElement("div");p.classList.add(...this.classesForAdd.label),this.csLabel=p,h.appendChild(this.csLabel);let u=document.createElement("div");u.classList.add(...this.classesForAdd.arrow),u.innerHTML='<svg viewBox="0 0 20 20"><path d="M2,6 L10,14 L18,6" /></svg>',h.appendChild(u),this.csSelect=h,this.originalSelect.insertAdjacentElement("afterend",this.csSelect)}#g(){let g=document.createElement("div");if(g.role="listbox",g.id=this.csId,g.classList.add(...this.classesForAdd.dropdown),"relative"===this.settings.openPosition&&g.classList.add(...this.classesForAdd.relative),this.settings.searchEnable){let $=document.createElement("div");$.classList.add(...this.classesForAdd.searchWrapper);let f=document.createElement("input");f.type="search",f.placeholder=this.settings.searchPlaceholder,f.autocomplete="off",f.autocorrect="off",f.autocapitalize="off",this.settings.alwaysOpen||(f.tabIndex=-1),f.classList.add(...this.classesForAdd.search),f.addEventListener("input",e=>this.#q(e)),f.addEventListener("keydown",e=>this.#o(e)),f.addEventListener("blur",()=>{this.csListing.querySelector(`.${this.classesForAdd.highlighted.join(".")}`)?.classList.remove(...this.classesForAdd.highlighted)}),this.csSearch=f,$.appendChild(this.csSearch),g.appendChild($)}let L=document.createElement("ul");L.classList.add(...this.classesForAdd.listing),this.csListing=L,g.appendChild(this.csListing),this.csDropdown=g,this.openLocation.insertAdjacentElement("beforeend",this.csDropdown)}#h(){if(this.csListing.innerHTML="",this.filterOptions.length)this.filterOptions.forEach(e=>{e.options?this.csListing.appendChild(this.#r(e)):this.csListing.appendChild(this.#s(e))});else{let m=document.createElement("li");m.classList.add(...this.classesForAdd.searchNoResult),m.innerHTML=this.#m(this.settings.searchNoResult),this.csListing.appendChild(m)}this.settings.sortMode&&this.#t()}#s(b){let S=document.createElement("li");if(S.role="option",S.ariaSelected=b.selected,S.dataset.id=b.id,b.placeholder&&(S.dataset.placeholder=b.placeholder),this.settings.searchMark&&this.csSearch&&this.csSearch.value){let v=this.csSearch.value.trim();S.innerHTML=this.#u(b.label,v,this.classesForAdd.searchMark.join(" "))}else S.innerHTML=b.label;if(S.classList.add(...this.classesForAdd.option),this.settings.checkboxMode){let O=document.createElement("div");O.classList.add(...this.classesForAdd.checkbox),S.insertAdjacentElement("afterbegin",O)}return this.settings.sortMode&&S.insertAdjacentElement("afterbegin",this.#v()),b.hidden&&S.classList.add(...this.classesForAdd.hidden),b.disabled?S.classList.add(...this.classesForAdd.disabled):S.addEventListener("click",e=>this.#w(e)),b.class&&(S.className+=` ${b.class}`),b.style&&(S.style.cssText=b.style),S}#r(A){let E=document.createElement("li");E.role="group",E.dataset.id=A.id,E.classList.add(...this.classesForAdd.optionGroup);let w=document.createElement("label");if(w.classList.add(...this.classesForAdd.optionGroupLabel),w.innerHTML=A.label,this.settings.checkboxMode){let F=document.createElement("div");F.classList.add(...this.classesForAdd.checkbox),this.isMultipleSelect&&F.addEventListener("click",e=>{e.preventDefault();let t=[...this.selectedValue],s=!0,i=this.#x(A.options);i.forEach(e=>{t.includes(e.value)||(s=!1,t.push(e.value))}),s&&i.forEach(e=>{t.splice(t.indexOf(e.value),1)}),this.setSelectedValue(t)}),w.insertAdjacentElement("afterbegin",F)}if(this.settings.sortMode&&w.insertAdjacentElement("afterbegin",this.#v()),"off"!==A.groupExpanded){let T=document.createElement("div");T.classList.add(...this.classesForAdd.arrow),T.innerHTML=`
                <input class="${this.classesForAdd.optionGroupExpandInput.join(" ")}" type="checkbox" ${A.groupExpanded?"checked":""} tabindex="-1">
                <svg viewBox="0 0 20 20"><path d="M2,6 L10,14 L18,6" /></svg>
            `,w.appendChild(T)}E.appendChild(w);let _=document.createElement("ul");return _.classList.add(...this.classesForAdd.optionGroupListing),A.options.forEach(e=>{e.options?_.appendChild(this.#r(e)):_.appendChild(this.#s(e))}),E.appendChild(_),E}#t(){let y=require("sortablejs").default,j=[this.csListing,...this.csListing.querySelectorAll(`.${this.classesForAdd.optionGroupListing.join(".")}`)];for(let x of j)new y(x,{group:"nested",animation:300,swapThreshold:.5,handle:`.${this.classesForAdd.dndHandle}`,onSort:e=>{let{oldIndex:t,newIndex:s,from:i,to:l,target:n}=e;if(i!==n)return;let o=this.sortedOptions.length?this.sortedOptions:[...this.getOptions(!0)];if(i===l){if(i===this.csListing&&l===this.csListing){let a=o.splice(t,1)[0];o.splice(s,0,a)}else{let d=i.parentElement.dataset.id,r=o.find(e=>e.id===d),c=r.options.splice(t,1)[0];r.options.splice(s,0,c)}}else if(i===this.csListing){let h=o.splice(t,1)[0],p=l.parentElement.dataset.id,u=o.find(e=>e.id===p);u.options.splice(s,0,h)}else if(l===this.csListing){let g=i.parentElement.dataset.id,$=o.find(e=>e.id===g),f=$.options.splice(t,1)[0];o.splice(s,0,f)}else{let L=i.parentElement.dataset.id,m=o.find(e=>e.id===L),b=l.parentElement.dataset.id,S=o.find(e=>e.id===b),v=m.options.splice(t,1)[0];S.options.splice(s,0,v)}this.sortedOptions=o,this.events.afterSort(o)}})}#v(){let C=document.createElement("div");return C.classList.add(...this.classesForAdd.dndHandle),C.innerHTML='<svg viewBox="0 -960 960 960"><path d="M360-160q-33 0-56.5-23.5T280-240q0-33 23.5-56.5T360-320q33 0 56.5 23.5T440-240q0 33-23.5 56.5T360-160Zm240 0q-33 0-56.5-23.5T520-240q0-33 23.5-56.5T600-320q33 0 56.5 23.5T680-240q0 33-23.5 56.5T600-160ZM360-400q-33 0-56.5-23.5T280-480q0-33 23.5-56.5T360-560q33 0 56.5 23.5T440-480q0 33-23.5 56.5T360-400Zm240 0q-33 0-56.5-23.5T520-480q0-33 23.5-56.5T600-560q33 0 56.5 23.5T680-480q0 33-23.5 56.5T600-400ZM360-640q-33 0-56.5-23.5T280-720q0-33 23.5-56.5T360-800q33 0 56.5 23.5T440-720q0 33-23.5 56.5T360-640Zm240 0q-33 0-56.5-23.5T520-720q0-33 23.5-56.5T600-800q33 0 56.5 23.5T680-720q0 33-23.5 56.5T600-640Z"/></svg>',C}#j(){if("relative"===this.settings.openPosition)return;let M=this.csSelect.getBoundingClientRect(),H=this.openLocation.getBoundingClientRect(),q={top:M.top-H.top,left:M.left-H.left};this.openLocation.style.position="relative",this.csDropdown.style.top=`${q.top+M.height}px`,this.csDropdown.style.left=`${q.left}px`,this.csDropdown.style.width=`${M.width}px`}#y(D){this.#j(),this.csSelect.classList.contains(...D)&&this.csDropdown.classList.contains(...D)||(this.csSelect.classList.remove(...this.classesForAdd.openUp,...this.classesForAdd.openDown),this.csDropdown.classList.remove(...this.classesForAdd.openUp,...this.classesForAdd.openDown),this.csSelect.classList.add(...D),this.csDropdown.classList.add(...D))}#z(){this.#y(this.classesForAdd.openUp);let V=this.csSelect.getBoundingClientRect(),k=this.csDropdown.offsetHeight;this.csDropdown.style.marginTop=`-${V.height+k}px`}#A(){this.#y(this.classesForAdd.openDown),this.csDropdown.style.marginTop="0px"}#B(){let I=this.csSelect.getBoundingClientRect(),P=this.csDropdown.offsetHeight;window.innerHeight-I.bottom<P?this.#z():this.#A()}#k(){this.isOpen||this.disabled||(this.events.beforeOpen(),this.isOpen=!0,this.csSelect.ariaExpanded=!0,"relative"===this.settings.openPosition?this.#A():"auto"==this.settings.openDirection?(this.#B(),this.intervalRejustPosition=setInterval(()=>this.#B(),1e3)):"up"==this.settings.openDirection?(this.#z(),this.intervalRejustPosition=setInterval(()=>this.#z(),1e3)):"down"==this.settings.openDirection&&(this.#A(),this.intervalRejustPosition=setInterval(()=>this.#A(),1e3)),this.#C(this.csListing,this.csListing.querySelector(`.${this.classesForAdd.selected.join(".")}`)),this.csSearch&&this.csSearch.focus(),this.events.afterOpen())}#p(){this.isOpen&&!this.settings.alwaysOpen&&(this.intervalRejustPosition&&(clearInterval(this.intervalRejustPosition),this.intervalRejustPosition=null),this.events.beforeClose(),this.isOpen=!1,this.csSelect.ariaExpanded=!1,this.csSelect.classList.remove(...this.classesForAdd.openUp,...this.classesForAdd.openDown),this.csDropdown.classList.remove(...this.classesForAdd.openUp,...this.classesForAdd.openDown),this.csListing.querySelector(`.${this.classesForAdd.highlighted.join(".")}`)?.classList.remove(...this.classesForAdd.highlighted),this.csSearch&&this.csSearch.value&&(this.csSearch.value="",this.csSearch.dispatchEvent(new Event("input"))),this.events.afterClose())}#i(N){N.target.closest(`.${this.classesForAdd.select.join(".")}#${this.csId}`)||N.target.closest(`.${this.classesForAdd.dropdown.join(".")}#${this.csId}`)||this.#p()}#w(R){if("option"!==R.target.role)return;let G=R.target.dataset.id,B=this.getOptionObjBy("id",G).value;if(this.isMultipleSelect){if(this.selectedValue.includes(B)){let U=this.selectedValue.filter(e=>e!==B);this.setSelectedValue(U)}else this.setSelectedValue([...this.selectedValue,B])}else this.setSelectedValue(B);this.settings.closeOnSelect&&this.#p()}#o(Z){switch(Z.key){case"ArrowUp":case"ArrowDown":Z.preventDefault(),this.isOpen?this.#D(Z.key):this.#k();break;case" ":case"Enter":if(this.isOpen){let W=this.csListing.querySelector(`.${this.classesForAdd.highlighted.join(".")}`);W&&(Z.preventDefault(),W.click())}else Z.preventDefault(),this.#k();break;case"Tab":case"Escape":this.#p(),this.csSelect.focus()}}#D(K){let z=this.getOptionsEl(!0,!0,!0),J=z.length;if(0===J)return;let Q=this.csListing.querySelector(`.${this.classesForAdd.highlighted.join(".")}`);if(Q){let X=z.indexOf(Q);Q.classList.remove(...this.classesForAdd.highlighted);let Y=z["ArrowDown"===K?X+1<J?X+1:0:X-1>=0?X-1:J-1];Y.classList.add(...this.classesForAdd.highlighted),this.#C(this.csListing,Y);let ee=Y.parentElement;if(!ee.classList.contains(...this.classesForAdd.optionGroupListing))return;let et=ee.previousElementSibling,es=et&&et.querySelector(`.${this.classesForAdd.optionGroupExpandInput.join(".")}`);es&&!es.checked&&(es.checked=!0)}else{let ei=this.csListing.querySelector(`.${this.classesForAdd.selected.join(".")}:not(.${this.classesForAdd.disabled.join(".")})`)||z[0];ei.classList.add(...this.classesForAdd.highlighted),this.#C(this.csListing,ei)}}#q(el){let en=el.target.value,eo=e=>{let t=[];return e.forEach(e=>{if(e.options){let s=eo(e.options);s.length&&t.push({...e,options:s})}else{let i=this.#E(e.label);i.toLowerCase().includes(en.toLowerCase())&&t.push(e)}}),t};this.filterOptions=eo(this.options),this.#h(),this.setSelectedValue(this.selectedValue)}#c(ea){this.listen=ea,this.observer&&(ea&&this.observer.observe(this.originalSelect,{subtree:!0,childList:!0,attributes:!0}),ea||this.observer.disconnect())}#b(ed){if(!this.listen)return;let er=!1,ec=!1,eh=!1;for(let ep of ed)ep.target===this.originalSelect&&("disabled"===ep.attributeName&&(ec=!0),"class"===ep.attributeName&&(er=!0),(ep.addedNodes.length>0||ep.removedNodes.length>0)&&(eh=!0)),("OPTGROUP"===ep.target.nodeName||"OPTION"===ep.target.nodeName)&&(eh=!0);ec&&(this.#c(!1),this.originalSelect.disabled?this.disable():this.enable(),this.#c(!0)),eh&&(this.#c(!1),this.setOptions(),this.#c(!0))}#F(){for(let eu of this.originalSelect.options)eu.selected=!1}#G(){let eg=this.csListing.querySelectorAll(`.${this.classesForAdd.selected.join(".")}`);eg.forEach(e=>{e.ariaSelected=!1,e.classList.remove(...this.classesForAdd.selected,...this.classesForAdd.selectedHidden)})}#H(e$){e$&&(e$.ariaSelected=!0,e$.classList.add(...this.classesForAdd.selected),this.settings.selectedOptionHidden&&e$.classList.add(...this.classesForAdd.selectedHidden),"true"==e$.dataset.placeholder?this.csLabel.classList.add(...this.classesForAdd.placeholder):this.csLabel.classList.remove(...this.classesForAdd.placeholder))}#I(ef){let eL=Array.from(this.originalSelect.options).some(e=>{if(e.value==ef)return e.selected=!0,!0});eL||(this.#c(!1),this.originalSelect.appendChild(new Option(ef,ef,!1,!0)),this.#c(!0))}#J(){if(this.selectedValue.length>this.settings.maxValuesShown){this.csLabel.innerHTML=this.settings.maxValuesLabel.replace("{count}",this.selectedValue.length);return}if(this.isMultipleSelect){this.csLabel.innerHTML=this.getSelectedObj().map(e=>this.#K(e)).join("");let em=this.csLabel.querySelectorAll(`.${this.classesForAdd.selectedItemRemove.join(".")}`);em.forEach(e=>{e.addEventListener("click",e=>{let t=e.target.dataset.id,s=this.getOptionObjBy("id",t).value,i=[...this.selectedValue];i.splice(i.indexOf(s),1),this.setSelectedValue(i)})});return}this.csLabel.innerHTML=this.getSelectedObj()[0]?.label??""}#K(eb){return`
            <div class="${this.classesForAdd.selectedItem.join(" ")}">
                <div class="${this.classesForAdd.selectedItemLabel.join(" ")}">${eb.label}</div>
                <div class="${this.classesForAdd.selectedItemRemove.join(" ")}" data-id="${eb.id}"></div>
            </div>
        `}#m(eS=""){if(this.settings.allowHTML)return eS;let ev={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return eS.replace(/[&<>"']/g,e=>ev[e])}#E(eO){return eO.replace(/<[^>]+>/gi,"")}#u(eA,e1,e3){let eE=RegExp(e1,"i"),[ew]=eA.match(eE)||[];if(!ew)return eA;let eF=eA.indexOf(ew),eT=eF+ew.length,e_=eA.substring(eF,eT);return eA.replace(eE,`<mark class="${e3}">${e_}</mark>`)}#a(ey){let e4={length:10,number:!0,lowerCase:!0,upperCase:!0,special:!1,pattern:"",...ey},{length:ej,number:e0,lowerCase:ex,upperCase:eC,special:eM,pattern:eH}=e4,eq="0123456789".split(""),eD="abcdefghijklmnopqrstuvwxyz".split(""),e9="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),eV="!@#$%^&*()_-+=[]{}\\|;:'\"<>,.?/`~".split(""),ek=[];e0&&ek.push(...eq),ex&&ek.push(...eD),eC&&ek.push(...e9),eM&&ek.push(...eV);let eI="";if(eH){let e2=eH.split("");for(let eP=0;eP<e2.length;eP++){let eN=e2[eP];if("x"===eN){let eR=Math.floor(Math.random()*ek.length);eI+=ek[eR]}else eI+=eN}}else for(let eG=0;eG<ej;eG++){let eB=Math.floor(Math.random()*ek.length);eI+=ek[eB]}return eI}#C(e6,eU){if(!eU)return;let{scrollTop:eZ=0,offsetTop:e5=0,clientHeight:e7=0}=e6??{},{offsetTop:eW=0,clientHeight:eK=0}=eU??{},ez=e5+e7,eJ=eW+eK,eQ=eU.parentElement.classList.contains(...this.classesForAdd.optionGroupListing),eX=eQ?eU.parentElement.previousElementSibling.offsetHeight:0;eW<eZ+e5+eX?e6.scrollTop=eW-e5-eX:eJ>eZ+ez&&(e6.scrollTop=eJ-ez)}#n(eY,e8){switch(eY){case"true":return!0;case"false":return!1;case void 0:return e8||void 0;default:return eY}}#x(te){let tt="options";return te.flatMap(e=>Array.isArray(e[tt])?this.#x(e[tt]):e)}getSortedOptions(){return this.sortedOptions.length?this.sortedOptions:[...this.getOptions(!0)]}getOptionsEl(e=!1,t=!1,s=!1){let i=`.${this.classesForAdd.option.join(".")}`;return e&&(i+=`:not(.${this.classesForAdd.placeholder.join(".")})`),t&&(i+=`:not(.${this.classesForAdd.disabled.join(".")})`),s&&(i+=`:not(.${this.classesForAdd.hidden.join(".")})`),Array.from(this.csListing.querySelectorAll(i))}getOptionElBy(e,t){let s=this.getOptionObjBy(e,t).id,i=this.csListing.querySelector(`li[data-id='${s}']`);return i}getOptionObjBy(e,t){let s=this.getOptions().find(s=>s[e]===t)??{};return{...s}}getSelectedObj(){let e=this.selectedValue,t=e.map(e=>this.getOptionObjBy("value",e));return[...t]}getSelectedValue(){let e=this.selectedValue;return this.isMultipleSelect?e:e[0]}setSelectedValue(e="",t=!0){(!t||!1!==this.events.beforeChange(e,this.getSelectedValue(),this))&&(this.#F(),this.#G(),this.selectedValue=Array.isArray(e)?e:[e],this.selectedValue.forEach(e=>{let t=this.getOptionElBy("value",e);this.#H(t),this.#I(e)}),this.#J(),t&&this.events.afterChange(this.getSelectedValue(),this))}getOptions(e=!1){return e?this.options:this.#x(this.options)}setOptions(e){this.options=this.#e(e),this.destroy(),this.init()}enable(){this.disabled=!1,this.originalSelect.disabled=!1,this.csSelect.classList.remove(...this.classesForAdd.disabled)}disable(){this.disabled=!0,this.originalSelect.disabled=!0,this.csSelect.classList.add(...this.classesForAdd.disabled)}destroy(){document.removeEventListener("click",e=>this.#i(e)),this.csSelect.remove(),this.csDropdown.remove(),this.originalSelect.style.display=""}};