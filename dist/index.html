<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Select</title>

    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark-dimmed.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>

    <!-- and it's easy to individually load additional languages -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/javascript.min.js"></script>

    <link rel="stylesheet" href="./css/app.min.css">
    <link rel="stylesheet" href="./css/index.min.css">
</head>

<body>
    <label class="menuToggle">
        <input type="checkbox" />
    </label>
    <nav>
        <a href="#singleSelect">Simple Usage</a>
        <a href="#mutipleSelect">Mutiple Select</a>
        <a href="#configs">Configs</a>
        <a href="#placeholder">Placeholder</a>
        <a href="#inlineCSS">inlineCSS</a>
        <a href="#allowDeselectAll">allowDeselectAll</a>
        <a href="#alwaysOpen">alwaysOpen</a>
        <a href="#closeOnSelect">closeOnSelect</a>
        <a href="#openDirection">openDirection</a>
        <a href="#openPosition">openPosition</a>
        <a href="#openLocation">openLocation</a>
        <a href="#searchEnable">searchEnable</a>
        <a href="#searchPlaceholder">searchPlaceholder</a>
        <a href="#searchNoResult">searchNoResult</a>
        <a href="#searchMark">searchMark</a>
        <a href="#selectedOptionHidden">selectedOptionHidden</a>
        <a href="#checkboxMode">checkboxMode</a>
        <a href="#sortMode">sortMode</a>
        <a href="#maxValuesShown">maxValuesShown</a>
        <a href="#maxValuesLabel">maxValuesLabel</a>
        <a href="#allowHTML">allowHTML</a>
    </nav>
    <main>
        <div class="container" id="singleSelect">
            <span class="title">Simple Usage</span>

            <div class="selectWrapper">
                <select id="customSelect_single">
                    <option value="1">Option 1</option>
                    <option value="2">Option 2</option>
                    <optgroup label="Group 1">
                        <option value="3">Option 3</option>
                        <option value="4">Option 4</option>
                        <option value="5">Option 5</option>
                    </optgroup>
                </select>
            </div>

            <pre><code>
                new CustomSelect("#customSelect_single");       // html element || css selector
            </code></pre>
        </div>

        <div class="container" id="mutipleSelect">
            <span class="title">Mutiple Select</span>

            <div class="selectWrapper">
                <select id="customSelect_multiple" multiple>
                    <option value="1">Option 1</option>
                    <option value="2">Option 2</option>
                    <optgroup label="Group 1">
                        <option value="3">Option 3</option>
                        <option value="4">Option 4</option>
                        <option value="5">Option 5</option>
                    </optgroup>
                </select>
            </div>
        </div>

        <div class="container" id="configs">
            <span class="title">Configs</span>

            <pre><code>
                <select id="customSelect" multiple>
                    <option value="" data-placeholder="true" selected disabled hidden>Please select</option>
                    <option value="1">Option 1</option>
                    <option value="2">Option 2</option>
                    <optgroup label="Group 1" data-expanded="off">  // data-expanded="true" (default) || "false" || "off"
                        <option value="3">Option 3</option>
                        <option value="4">Option 4</option>
                        <option value="5">Option 5</option>
                    </optgroup>
                </select>
            </code></pre>

            <pre><code>
                const select = new CustomSelect("#select", {
                    options: [                          // if options is empty, it will get options from html select element
                        {
                            <!-- option config -->
                            label: "Option 1",          // Required
                            value: "Option 1",          // Optional - if value is empty, it will be same as label
                            id: "1",                    // Optional - if id is empty, it will be generated automatically
                            placeholder: false,         // Optional - if placeholder is true, it will be light gray color as placeholder when it is selected & the value will be empty
                            selected: false,            // Optional
                            disabled: false,            // Optional
                            hidden: false,              // Optional
                            class: "",                  // Optional
                            style: "",                  // Optional
                        },
                        { 
                            <!-- optgroup config -->
                            label: "Group 1",           // Required - if options is set, it will be a group label
                            options: [                  // Optional - support multiple level
                                { label: "Option 2", value: "Option 2" },
                                { label: "Option 3", value: "Option 3" },
                            ],
                            groupExpanded: "off",       // Optional - true (default) || false || "off"
                        },
                    ],
                    settings: {                        
                        allowDeselectAll: false,
                        alwaysOpen: false,
                        closeOnSelect: true,
                        openDirection: "auto",               // "auto" (default) || "up" || "down"
                        openPosition: "absolute",            // "absolute" (default) || "relative"
                        openLocation: "body",                // HTML element || css selector
                        searchEnable: true,
                        searchPlaceholder: "Search",
                        searchNoResult: "No result",
                        searchMark: true,
                        selectedOptionHidden: false,
                        checkboxMode: false,
                        sortMode: false,
                        maxValuesShown: 20,
                        maxValuesLabel: "{count} selected",  // {count} will be replaced with the number of selected values
                        allowHTML: false,
                        classNames: {                        // e.g. { select: "class1 class2 class3" }
                            select: "cs-select",
                            label: "cs-label",
                            dropdown: "cs-dropdown",
                            listing: "cs-listing",
                            option: "cs-option",
                            optionGroup: "cs-optionGroup",
                            optionGroupLabel: "cs-optionGroup-label",
                            optionGroupExpandInput: "cs-optionGroup-expandInput",
                            optionGroupListing: "cs-optionGroup-listing",
                            arrow: "cs-arrow",
                            deselectAll: "cs-deselectAll",
                            checkbox: "cs-checkbox",
                            relative: "cs-relative",
                            openUp: "cs-open-up",
                            openDown: "cs-open-down",
                            selected: "cs-selected",
                            highlighted: "cs-highlighted",
                            disabled: "cs-disabled",
                            hidden: "cs-hidden",
                            selectedHidden: "cs-selectedHidden",
                            placeholder: "cs-placeholder",
                            searchWrapper: "cs-searchWrapper",
                            search: "cs-search",
                            searchNoResult: "cs-searchNoResult",
                            searchMark: "cs-searchMark",
                            selectedItem: "cs-selectedItem",
                            selectedItemLabel: "cs-selectedItem-label",
                            selectedItemRemove: "cs-selectedItem-remove",
                            dndHandle: "cs-dndHandle",
                        },
                    },
                    events: {
                        beforeOpen: () => {
                            console.log('beforeOpen');
                        },
                        afterOpen: () => {
                            console.log('afterOpen');
                        },
                        beforeClose: () => {
                            console.log('beforeClose');
                        },
                        afterClose: () => {
                            console.log('afterClose');
                        },
                        beforeChange: (newVal, oldVal) => {
                            console.log("[newVal]", newVal);
                            console.log("[oldVal]", oldVal);
                            // return false will stop the change from happening
                        },
                        afterChange: (newVal) => {
                            console.log("[newVal]", newVal);
                        },
                    }
                });

                select.getSelectedValue();              // return string || array (if multiple select)
                select.setSelectedValue("value");       // if multiple select, value can be array
                select.getSelectedObj();
                select.getOptionElBy("key", "value");
                select.getOptionObjBy("key", "value");
                select.getOptions();
                select.setOptions([]);
                select.enable();
                select.disable();
                select.destroy();                       // it will revert to the original select element and remove all event listeners
            </code></pre>
        </div>

        <div class="container" id="placeholder">
            <span class="title">Placeholder</span>
            <p>
                for HTML - option of data-placeholder="true" must set the value to empty string
            </p>

            <div class="selectWrapper">
                <select id="customSelect_placeholder">
                    <option value="" data-placeholder="true">Please select</option>
                    <option value="1">Option 1</option>
                    <option value="2">Option 2</option>
                    <optgroup label="Group 1">
                        <option value="3">Option 3</option>
                        <option value="4">Option 4</option>
                        <option value="5">Option 5</option>
                    </optgroup>
                </select>
            </div>

            <pre><code class="language-javascript">
                // if options is pass by javascript
                
                new CustomSelect("#customSelect_placeholder", {
                    options: [                          // if options is empty, it will get options from html select element
                        {
                            label: "Please select",
                            value: "",
                            placeholder: true,          // Optional - if placeholder is true, it will be light gray color as placeholder when it is selected & the value will be empty
                        },
                        {
                            label: "Option 1",
                            value: "1",
                        },
                        {
                            label: "Option 2",
                            value: "2",
                        },
                        {
                            label: "Group 1",
                            options: [
                                {
                                    label: "Option 3",
                                    value: "3",
                                },
                                {
                                    label: "Option 4",
                                    value: "4",
                                },
                                {
                                    label: "Option 5",
                                    value: "5",
                                },
                            ],
                        },
                    ],
                });
            </code></pre>
        </div>

        <div class="container" id="inlineCSS">
            <span class="title">inlineCSS</span>

            <div class="selectWrapper">
                <select id="customSelect_inlineCSS">
                    <option style="color: blue;" value="1">Option 1</option>
                    <option style="color: red;" value="2">Option 2</option>
                </select>
            </div>

            <pre><code class="language-javascript">
                new CustomSelect("#customSelect_inlineCSS", {
                    options: [
                        {
                            label: "Option 1",
                            value: "1",
                            style: "color: blue;",
                        },
                        {
                            label: "Option 2",
                            value: "2",
                            style: "color: red;",
                        },
                    ],
                });
            </code></pre>
        </div>

        <div class="container" id="allowDeselectAll">
            <span class="title">allowDeselectAll</span>

            <div class="selectWrapper">
                <select id="customSelect_allowDeselectAll" multiple>
                    <option value="1">Option 1</option>
                    <option value="2" selected>Option 2</option>
                    <optgroup label="Group 1">
                        <option value="3" selected>Option 3</option>
                        <option value="4">Option 4</option>
                        <option value="5">Option 5</option>
                    </optgroup>
                </select>
            </div>

            <pre><code class="language-javascript">
                new CustomSelect("#customSelect_allowDeselectAll", {
                    settings: {
                        allowDeselectAll: true, // true || false (default)
                    },
                });
            </code></pre>
        </div>

        <div class="container" id="alwaysOpen">
            <span class="title">alwaysOpen</span>

            <div class="selectWrapper">
                <select id="customSelect_alwaysOpen">
                    <option value="1">Option 1</option>
                    <option value="2">Option 2</option>
                    <optgroup label="Group 1">
                        <option value="3">Option 3</option>
                        <option value="4">Option 4</option>
                        <option value="5">Option 5</option>
                    </optgroup>
                </select>
            </div>

            <pre><code class="language-javascript">
                const customSelect_alwaysOpen = document.querySelector("#customSelect_alwaysOpen");
                new CustomSelect(customSelect_alwaysOpen, {
                    settings: {
                        alwaysOpen: true, // true || false (default)
                        openPosition: "relative", // "absolute" (default) || "relative"
                        openLocation: customSelect_alwaysOpen.parentElement, // HTML element || css selector
                    },
                });
            </code></pre>
        </div>

        <div class="container" id="closeOnSelect">
            <span class="title">closeOnSelect</span>

            <div class="selectWrapper">
                <select id="customSelect_closeOnSelect">
                    <option value="1">Option 1</option>
                    <option value="2">Option 2</option>
                    <optgroup label="Group 1">
                        <option value="3">Option 3</option>
                        <option value="4">Option 4</option>
                        <option value="5">Option 5</option>
                    </optgroup>
                </select>
            </div>

            <pre><code class="language-javascript">
                new CustomSelect("#customSelect_closeOnSelect", {
                    settings: {
                        closeOnSelect: false, // true (default) || false
                    },
                });
            </code></pre>
        </div>

        <div class="container" id="openDirection">
            <span class="title">openDirection</span>

            <div class="selectWrapper">
                <select id="customSelect_openDirection">
                    <option value="1">Option 1</option>
                    <option value="2">Option 2</option>
                    <optgroup label="Group 1">
                        <option value="3">Option 3</option>
                        <option value="4">Option 4</option>
                        <option value="5">Option 5</option>
                    </optgroup>
                </select>
            </div>

            <pre><code class="language-javascript">
                new CustomSelect("#customSelect_openDirection", {
                    settings: {
                        openDirection: "up", // "auto" (default) || "up" || "down"
                    },
                });
            </code></pre>
        </div>

        <div class="container" id="openPosition">
            <span class="title">openPosition</span>

            <div class="selectWrapper">
                <select id="customSelect_openPosition">
                    <option value="1">Option 1</option>
                    <option value="2">Option 2</option>
                    <optgroup label="Group 1">
                        <option value="3">Option 3</option>
                        <option value="4">Option 4</option>
                        <option value="5">Option 5</option>
                    </optgroup>
                </select>
            </div>

            <pre><code class="language-javascript">
                const customSelect_openPosition = document.querySelector("#customSelect_openPosition");
                new CustomSelect("#customSelect_openPosition", {
                    settings: {
                        openPosition: "relative", // "absolute" (default) || "relative"
                        openLocation: customSelect_openPosition.parentElement, // HTML element || css selector
                    },
                });
            </code></pre>
        </div>

        <div class="container" id="openLocation">
            <span class="title">openLocation</span>

            <div class="selectWrapper">
                <select id="customSelect_openLocation">
                    <option value="1">Option 1</option>
                    <option value="2">Option 2</option>
                    <optgroup label="Group 1">
                        <option value="3">Option 3</option>
                        <option value="4">Option 4</option>
                        <option value="5">Option 5</option>
                    </optgroup>
                </select>
            </div>

            <pre><code class="language-javascript">
                const customSelect_openLocation = document.querySelector("#customSelect_openLocation");
                new CustomSelect("#customSelect_openLocation", {
                    settings: {
                        openLocation: "body", // HTML element || css selector
                    },
                });
            </code></pre>
        </div>

        <div class="container" id="searchEnable">
            <span class="title">searchEnable</span>

            <div class="selectWrapper">
                <select id="customSelect_searchEnable">
                    <option value="1">Option 1</option>
                    <option value="2">Option 2</option>
                    <optgroup label="Group 1">
                        <option value="3">Option 3</option>
                        <option value="4">Option 4</option>
                        <option value="5">Option 5</option>
                    </optgroup>
                </select>
            </div>

            <pre><code class="language-javascript">
                new CustomSelect("#customSelect_searchEnable", {
                    settings: {
                        searchEnable: false, // true (default) || false
                    },
                });
            </code></pre>
        </div>

        <div class="container" id="searchPlaceholder">
            <span class="title">searchPlaceholder</span>

            <div class="selectWrapper">
                <select id="customSelect_searchPlaceholder">
                    <option value="1">Option 1</option>
                    <option value="2">Option 2</option>
                    <optgroup label="Group 1">
                        <option value="3">Option 3</option>
                        <option value="4">Option 4</option>
                        <option value="5">Option 5</option>
                    </optgroup>
                </select>
            </div>

            <pre><code class="language-javascript">
                new CustomSelect("#customSelect_searchPlaceholder", {
                    settings: {
                        searchPlaceholder: "input search text here", // default: "Search"
                    },
                });
            </code></pre>
        </div>

        <div class="container" id="searchNoResult">
            <span class="title">searchNoResult</span>

            <div class="selectWrapper">
                <select id="customSelect_searchNoResult">
                    <option value="1">Option 1</option>
                    <option value="2">Option 2</option>
                    <optgroup label="Group 1">
                        <option value="3">Option 3</option>
                        <option value="4">Option 4</option>
                        <option value="5">Option 5</option>
                    </optgroup>
                </select>
            </div>

            <pre><code class="language-javascript">
                new CustomSelect("#customSelect_searchNoResult", {
                    settings: {
                        searchNoResult: "result not found", // default: "No result"
                    },
                });
            </code></pre>
        </div>

        <div class="container" id="searchMark">
            <span class="title">searchMark</span>

            <div class="selectWrapper">
                <select id="customSelect_searchMark">
                    <option value="1">Option 1</option>
                    <option value="2">Option 2</option>
                    <optgroup label="Group 1">
                        <option value="3">Option 3</option>
                        <option value="4">Option 4</option>
                        <option value="5">Option 5</option>
                    </optgroup>
                </select>
            </div>

            <pre><code class="language-javascript">
                new CustomSelect("#customSelect_searchMark", {
                    settings: {
                        searchMark: false, // true (default) || false
                    },
                });
            </code></pre>
        </div>

        <div class="container" id="selectedOptionHidden">
            <span class="title">selectedOptionHidden</span>

            <div class="selectWrapper">
                <select id="customSelect_selectedOptionHidden">
                    <option value="en">EN</option>
                    <option value="tc">繁</option>
                    <option value="sc">简</option>
                </select>
            </div>

            <pre><code class="language-javascript">
                new CustomSelect("#customSelect_selectedOptionHidden", {
                    settings: {
                        searchEnable: false, // true (default) || false
                        selectedOptionHidden: true, // true || false (default)
                    },
                });
            </code></pre>
        </div>

        <div class="container" id="checkboxMode">
            <span class="title">checkboxMode</span>

            <div class="selectWrapper">
                <select id="customSelect_checkbox">
                    <option value="1">Option 1</option>
                    <option value="2">Option 2</option>
                    <optgroup label="Group 1">
                        <option value="3">Option 3</option>
                        <option value="4">Option 4</option>
                        <option value="5">Option 5</option>
                    </optgroup>
                </select>
            </div>

            <pre><code class="language-javascript">
                new CustomSelect("#customSelect_checkbox", {
                    settings: {
                        checkboxMode: true,
                    },
                });
            </code></pre>
        </div>

        <div class="container" id="sortMode">
            <span class="title">sortMode</span>
            <p>
                Usually use for table column setting
            </p>

            <div class="selectWrapper">
                <select id="customSelect_sortMode" multiple>
                    <option value="firstName" selected>First Name</option>
                    <option value="lastName" selected>Last Name</option>
                    <option value="gender">Gender</option>
                    <option value="phone" selected>Phone</option>
                    <option value="email" selected>Email</option>
                </select>
            </div>

            <pre><code class="language-javascript">
                const customSelect_sortMode = new CustomSelect("#customSelect_sortMode", {
                    settings: {
                        closeOnSelect: false,
                        searchEnable: false,
                        sortMode: true,
                        checkboxMode: true,
                        maxValuesShown: -1,
                        maxValuesLabel: "Column Setting",
                    },
                    events: {
                        afterSort: (newOptions) => {
                            console.log("[newOptions]", newOptions);
                        },
                    }
                });

                const sortedOptions = customSelect_sortMode.getSortedOptions();
            </code></pre>
        </div>

        <div class="container" id="maxValuesShown">
            <span class="title">maxValuesShown</span>
            <p>If the number of selected values is greater than maxValuesShown, the selected values will be hidden and show the maxValuesLabel.</p>

            <div class="selectWrapper">
                <select id="customSelect_maxValuesShown" multiple>
                    <option value="1">Option 1</option>
                    <option value="2">Option 2</option>
                    <optgroup label="Group 1">
                        <option value="3">Option 3</option>
                        <option value="4">Option 4</option>
                        <option value="5">Option 5</option>
                    </optgroup>
                </select>
            </div>

            <pre><code class="language-javascript">
                new CustomSelect("#customSelect_maxValuesShown", {
                    settings: {
                        maxValuesShown: 1, // 20 (default) || number
                    },
                });
            </code></pre>
        </div>

        <div class="container" id="maxValuesLabel">
            <span class="title">maxValuesLabel</span>

            <div class="selectWrapper">
                <select id="customSelect_maxValuesLabel" multiple>
                    <option value="1">Option 1</option>
                    <option value="2">Option 2</option>
                    <optgroup label="Group 1">
                        <option value="3">Option 3</option>
                        <option value="4">Option 4</option>
                        <option value="5">Option 5</option>
                    </optgroup>
                </select>
            </div>

            <pre><code class="language-javascript">
                new CustomSelect("#customSelect_maxValuesLabel", {
                    settings: {
                        maxValuesShown: 1, // 20 (default) || number
                        maxValuesLabel: "{count} values selected", // {count} will be replaced with the number of selected values
                    },
                });
            </code></pre>
        </div>

        <div class="container" id="allowHTML">
            <span class="title">allowHTML</span>

            <div class="selectWrapper">
                <select id="customSelect_allowHTML"></select>
            </div>

            <pre><code class="language-javascript">
                new CustomSelect("#customSelect_allowHTML", {
                    options: [
                        {
                            label: "<u>Option 1</u>",
                            value: "1",
                        },
                        {
                            label: "<b>Option 2</b>",
                            value: "2",
                        },
                    ],
                    settings: {
                        allowHTML: true, // true || false (default)
                    },
                });
            </code></pre>
        </div>
    </main>

    <script type="module" src="./js/index.min.js"></script>
</body>

</html>