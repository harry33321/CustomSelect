class CustomSelect{constructor(e,{options:s,settings:t,events:i}={}){"string"==typeof e||e instanceof HTMLElement?(this.originalSelect=e instanceof HTMLElement?e:document.querySelector(e),this.originalSelect?"SELECT"===this.originalSelect.nodeName?(this.options=s||[],this.settings={alwaysOpen:!1,closeOnSelect:!0,openDirection:"auto",openPosition:"absolute",openLocation:"body",searchEnable:!0,searchPlaceholder:"Search",searchNoResult:"No result",searchMark:!0,selectedOptionHidden:!1,checkboxMode:!1,sortMode:!1,maxValuesShown:20,maxValuesLabel:"{count} selected",allowHTML:!1,classNames:{},...t},this.events={beforeOpen:()=>{},afterOpen:()=>{},beforeClose:()=>{},afterClose:()=>{},beforeChange:(e,s)=>{},afterChange:e=>{},afterSort:e=>{},...i},this.csId=`cs-${this.#e()}`,this.csSelect=null,this.csLabel=null,this.csDropdown=null,this.csSearch=null,this.csListing=null,this.selectedValue=[],this.filterOptions=[],this.sortedOptions=[],this.openLocation=this.settings.openLocation instanceof HTMLElement?this.settings.openLocation:document.querySelector(this.settings.openLocation),this.intervalRejustPosition=null,this.isOpen=!1,this.disabled=!1,this.isMultipleSelect=this.originalSelect.multiple||!1,this.listen=!1,this.observer=new MutationObserver((e=>this.#s(e))),this.classes={select:"cs-select",label:"cs-label",dropdown:"cs-dropdown",listing:"cs-listing",option:"cs-option",optionGroup:"cs-optionGroup",optionGroupLabel:"cs-optionGroup-label",optionGroupExpandInput:"cs-optionGroup-expandInput",optionGroupListing:"cs-optionGroup-listing",arrow:"cs-arrow",checkbox:"cs-checkbox",relative:"cs-relative",openUp:"cs-open-up",openDown:"cs-open-down",selected:"cs-selected",highlighted:"cs-highlighted",disabled:"cs-disabled",hidden:"cs-hidden",selectedHidden:"cs-selectedHidden",placeholder:"cs-placeholder",searchWrapper:"cs-searchWrapper",search:"cs-search",searchNoResult:"cs-searchNoResult",searchMark:"cs-searchMark",selectedItem:"cs-selectedItem",selectedItemLabel:"cs-selectedItem-label",selectedItemRemove:"cs-selectedItem-remove",dndHandle:"cs-dndHandle"},this.classesForAdd={},Object.entries(this.classes).forEach((([e,s])=>{this.classesForAdd[e]=[...s.split(" ")];const t=this.settings.classNames[e];t&&this.classesForAdd[e].push(...t.split(" "))})),this.init(),this.#t(!0)):console.error("CustomSelect: target element must be a select element."):console.error("CustomSelect: target element not found.")):console.error("CustomSelect: target element(1st argument) is required.")}async#i(){const e="cs-css";if(document.getElementById(e))return;const s=await fetch("https://cdn.jsdelivr.net/gh/harry33321/custom-select/dist/custom-select.min.css").then((e=>e.text())).then((e=>e)).catch((e=>{console.error(e)}));if(!s)return;const t=document.createElement("style");t.id=e,t.innerHTML=s,document.head.appendChild(t)}init(){if(this.originalSelect.style.display="none",this.originalSelect.ariaHidden=!0,this.originalSelect.addEventListener("change",(e=>{if(this.isMultipleSelect){const s=Array.from(e.target.selectedOptions).map((e=>e.value));this.setSelectedValue(s)}else this.setSelectedValue(e.target.value)})),this.options=this.#n(this.options),this.filterOptions=this.options,this.#l(),this.#o(),this.#a(),document.addEventListener("click",(e=>this.#c(e))),this.#d(),this.options.length){const e=this.getOptions().filter((e=>e.selected)).map((e=>e.value));this.setSelectedValue(e)}this.settings.alwaysOpen&&this.#r()}#h(e){if(e.options)return{id:this.#p(e.id)||this.#e(),label:this.#p(e.label),options:e.options.map((e=>this.#h(e))),groupExpanded:this.#u(e.groupExpanded,!0)};const s=e instanceof HTMLElement?"true"===e.dataset.placeholder||!1:e.placeholder||!1,t=s?"":e.value||e.label;return{id:this.#p(e.id)||this.#e(),label:this.#p(e.label),value:t,placeholder:s,selected:e.selected||!1,disabled:e.disabled||!1,hidden:e.hidden||!1,class:e instanceof HTMLElement?e.className||null:e.class||null,style:e instanceof HTMLElement?e.style.cssText||null:e.style||null}}#n(e=[]){if(e.length)return e.map((e=>this.#h(e)));{const e=[];for(const s of this.originalSelect.children)if("OPTION"===s.nodeName&&e.push(this.#h(s)),"OPTGROUP"===s.nodeName){const t=[];for(const e of s.children)t.push(this.#h(e));e.push({id:s.id||this.#e(),label:this.#p(s.label),options:t,groupExpanded:this.#u(s.dataset.expanded,!0)})}return e}}#l(){const e=document.createElement("div");e.role="combobox",e.ariaHasPopup="listbox",e.ariaControls=this.csId,e.ariaExpanded=!1,e.id=this.csId,e.tabIndex=0,e.classList.add(...this.classesForAdd.select),e.addEventListener("keydown",(e=>this.#g(e))),e.addEventListener("click",(()=>this.isOpen?this.#m():this.#r()));const s=document.createElement("div");s.classList.add(...this.classesForAdd.label),this.csLabel=s,e.appendChild(this.csLabel);const t=document.createElement("div");t.classList.add(...this.classesForAdd.arrow),t.innerHTML='<svg viewBox="0 0 20 20"><path d="M2,6 L10,14 L18,6" /></svg>',e.appendChild(t),this.csSelect=e,this.originalSelect.insertAdjacentElement("afterend",this.csSelect)}#o(){const e=document.createElement("div");if(e.role="listbox",e.id=this.csId,e.classList.add(...this.classesForAdd.dropdown),"relative"===this.settings.openPosition&&e.classList.add(...this.classesForAdd.relative),this.settings.searchEnable){const s=document.createElement("div");s.classList.add(...this.classesForAdd.searchWrapper);const t=document.createElement("input");t.type="search",t.placeholder=this.settings.searchPlaceholder,t.autocomplete="off",t.autocorrect="off",t.autocapitalize="off",this.settings.alwaysOpen||(t.tabIndex=-1),t.classList.add(...this.classesForAdd.search),t.addEventListener("input",(e=>this.#L(e))),t.addEventListener("keydown",(e=>this.#g(e))),t.addEventListener("blur",(()=>{this.csListing.querySelector(`.${this.classesForAdd.highlighted.join(".")}`)?.classList.remove(...this.classesForAdd.highlighted)})),this.csSearch=t,s.appendChild(this.csSearch),e.appendChild(s)}const s=document.createElement("ul");s.classList.add(...this.classesForAdd.listing),this.csListing=s,e.appendChild(this.csListing),this.csDropdown=e,this.openLocation.insertAdjacentElement("beforeend",this.csDropdown)}#a(){if(this.csListing.innerHTML="",this.filterOptions.length)this.filterOptions.forEach((e=>{e.options?this.csListing.appendChild(this.#f(e)):this.csListing.appendChild(this.#b(e))}));else{const e=document.createElement("li");e.classList.add(...this.classesForAdd.searchNoResult),e.innerHTML=this.#p(this.settings.searchNoResult),this.csListing.appendChild(e)}this.settings.sortMode&&this.#S()}#b(e){const s=document.createElement("li");if(s.role="option",s.ariaSelected=e.selected,s.dataset.id=e.id,e.placeholder&&(s.dataset.placeholder=e.placeholder),this.settings.searchMark&&this.csSearch&&this.csSearch.value){const t=this.csSearch.value.trim();s.innerHTML=this.#v(e.label,t,this.classesForAdd.searchMark.join(" "))}else s.innerHTML=e.label;if(s.classList.add(...this.classesForAdd.option),this.settings.checkboxMode){const e=document.createElement("div");e.classList.add(...this.classesForAdd.checkbox),s.insertAdjacentElement("afterbegin",e)}return this.settings.sortMode&&s.insertAdjacentElement("afterbegin",this.#O()),e.hidden&&s.classList.add(...this.classesForAdd.hidden),e.disabled?s.classList.add(...this.classesForAdd.disabled):s.addEventListener("click",(e=>this.#A(e))),e.class&&(s.className+=` ${e.class}`),e.style&&(s.style.cssText=e.style),s}#f(e){const s=document.createElement("li");s.role="group",s.dataset.id=e.id,s.classList.add(...this.classesForAdd.optionGroup);const t=document.createElement("label");if(t.classList.add(...this.classesForAdd.optionGroupLabel),t.innerHTML=e.label,this.settings.checkboxMode){const s=document.createElement("div");s.classList.add(...this.classesForAdd.checkbox),this.isMultipleSelect&&s.addEventListener("click",(s=>{s.preventDefault();const t=[...this.selectedValue];let i=!0;const n=this.#E(e.options);n.forEach((e=>{t.includes(e.value)||(i=!1,t.push(e.value))})),i&&n.forEach((e=>{t.splice(t.indexOf(e.value),1)})),this.setSelectedValue(t)})),t.insertAdjacentElement("afterbegin",s)}if(this.settings.sortMode&&t.insertAdjacentElement("afterbegin",this.#O()),"off"!==e.groupExpanded){const s=document.createElement("div");s.classList.add(...this.classesForAdd.arrow),s.innerHTML=`\n                <input class="${this.classesForAdd.optionGroupExpandInput.join(" ")}" type="checkbox" ${e.groupExpanded?"checked":""} tabindex="-1">\n                <svg viewBox="0 0 20 20"><path d="M2,6 L10,14 L18,6" /></svg>\n            `,t.appendChild(s)}s.appendChild(t);const i=document.createElement("ul");return i.classList.add(...this.classesForAdd.optionGroupListing),e.options.forEach((e=>{e.options?i.appendChild(this.#f(e)):i.appendChild(this.#b(e))})),s.appendChild(i),s}#S(){if("undefined"==typeof require)return;const e=require("sortablejs").default,s=[this.csListing,...this.csListing.querySelectorAll(`.${this.classesForAdd.optionGroupListing.join(".")}`)];for(const t of s)new e(t,{group:"nested",animation:300,swapThreshold:.5,handle:`.${this.classesForAdd.dndHandle}`,onSort:e=>{const{oldIndex:s,newIndex:t,from:i,to:n,target:l}=e;if(i!==l)return;const o=this.sortedOptions.length?this.sortedOptions:[...this.getOptions(!0)];if(i===n)if(i===this.csListing&&n===this.csListing){const e=o.splice(s,1)[0];o.splice(t,0,e)}else{const e=i.parentElement.dataset.id,n=o.find((s=>s.id===e)),l=n.options.splice(s,1)[0];n.options.splice(t,0,l)}else if(i===this.csListing){const e=o.splice(s,1)[0],i=n.parentElement.dataset.id;o.find((e=>e.id===i)).options.splice(t,0,e)}else if(n===this.csListing){const e=i.parentElement.dataset.id,n=o.find((s=>s.id===e)).options.splice(s,1)[0];o.splice(t,0,n)}else{const e=i.parentElement.dataset.id,l=o.find((s=>s.id===e)),a=n.parentElement.dataset.id,c=o.find((e=>e.id===a)),d=l.options.splice(s,1)[0];c.options.splice(t,0,d)}this.sortedOptions=o,this.events.afterSort(o)}})}#O(){const e=document.createElement("div");return e.classList.add(...this.classesForAdd.dndHandle),e.innerHTML='<svg viewBox="0 -960 960 960"><path d="M360-160q-33 0-56.5-23.5T280-240q0-33 23.5-56.5T360-320q33 0 56.5 23.5T440-240q0 33-23.5 56.5T360-160Zm240 0q-33 0-56.5-23.5T520-240q0-33 23.5-56.5T600-320q33 0 56.5 23.5T680-240q0 33-23.5 56.5T600-160ZM360-400q-33 0-56.5-23.5T280-480q0-33 23.5-56.5T360-560q33 0 56.5 23.5T440-480q0 33-23.5 56.5T360-400Zm240 0q-33 0-56.5-23.5T520-480q0-33 23.5-56.5T600-560q33 0 56.5 23.5T680-480q0 33-23.5 56.5T600-400ZM360-640q-33 0-56.5-23.5T280-720q0-33 23.5-56.5T360-800q33 0 56.5 23.5T440-720q0 33-23.5 56.5T360-640Zm240 0q-33 0-56.5-23.5T520-720q0-33 23.5-56.5T600-800q33 0 56.5 23.5T680-720q0 33-23.5 56.5T600-640Z"/></svg>',e}#d(){if("relative"===this.settings.openPosition)return;const e=this.csSelect.getBoundingClientRect(),s=this.openLocation.getBoundingClientRect(),t=e.top-s.top,i=e.left-s.left;this.openLocation.style.position="relative",this.csDropdown.style.top=`${t+e.height}px`,this.csDropdown.style.left=`${i}px`,this.csDropdown.style.width=`${e.width}px`}#w(e){this.#d(),this.csSelect.classList.contains(...e)&&this.csDropdown.classList.contains(...e)||(this.csSelect.classList.remove(...this.classesForAdd.openUp,...this.classesForAdd.openDown),this.csDropdown.classList.remove(...this.classesForAdd.openUp,...this.classesForAdd.openDown),this.csSelect.classList.add(...e),this.csDropdown.classList.add(...e))}#T(){this.#w(this.classesForAdd.openUp);const e=this.csSelect.getBoundingClientRect(),s=this.csDropdown.offsetHeight;this.csDropdown.style.marginTop=`-${e.height+s}px`}#F(){this.#w(this.classesForAdd.openDown),this.csDropdown.style.marginTop="0px"}#y(){const e=this.csSelect.getBoundingClientRect(),s=this.csDropdown.offsetHeight;window.innerHeight-e.bottom<s?this.#T():this.#F()}#r(){this.isOpen||this.disabled||(this.events.beforeOpen(),this.isOpen=!0,this.csSelect.ariaExpanded=!0,"relative"===this.settings.openPosition?this.#F():"auto"==this.settings.openDirection?(this.#y(),this.intervalRejustPosition=setInterval((()=>this.#y()),500)):"up"==this.settings.openDirection?(this.#T(),this.intervalRejustPosition=setInterval((()=>this.#T()),500)):"down"==this.settings.openDirection&&(this.#F(),this.intervalRejustPosition=setInterval((()=>this.#F()),500)),this.#C(this.csListing,this.csListing.querySelector(`.${this.classesForAdd.selected.join(".")}`)),this.csSearch&&this.csSearch.focus(),this.events.afterOpen())}#m(){this.isOpen&&!this.settings.alwaysOpen&&(this.intervalRejustPosition&&(clearInterval(this.intervalRejustPosition),this.intervalRejustPosition=null),this.events.beforeClose(),this.isOpen=!1,this.csSelect.ariaExpanded=!1,this.csSelect.classList.remove(...this.classesForAdd.openUp,...this.classesForAdd.openDown),this.csDropdown.classList.remove(...this.classesForAdd.openUp,...this.classesForAdd.openDown),this.csListing.querySelector(`.${this.classesForAdd.highlighted.join(".")}`)?.classList.remove(...this.classesForAdd.highlighted),this.csSearch&&this.csSearch.value&&(this.csSearch.value="",this.csSearch.dispatchEvent(new Event("input"))),this.events.afterClose())}#c(e){e.target.closest(`.${this.classesForAdd.select.join(".")}#${this.csId}`)||e.target.closest(`.${this.classesForAdd.dropdown.join(".")}#${this.csId}`)||this.#m()}#A(e){if("option"!==e.target.role)return;const s=e.target.dataset.id,t=this.getOptionObjBy("id",s).value;if(this.isMultipleSelect)if(this.selectedValue.includes(t)){const e=this.selectedValue.filter((e=>e!==t));this.setSelectedValue(e)}else this.setSelectedValue([...this.selectedValue,t]);else this.setSelectedValue(t);this.settings.closeOnSelect&&this.#m()}#g(e){switch(e.key){case"ArrowUp":case"ArrowDown":e.preventDefault(),this.isOpen?this.#M(e.key):this.#r();break;case" ":case"Enter":if(this.isOpen){const s=this.csListing.querySelector(`.${this.classesForAdd.highlighted.join(".")}`);s&&(e.preventDefault(),s.click())}else e.preventDefault(),this.#r();break;case"Tab":case"Escape":this.#m(),this.csSelect.focus()}}#M(e){const s=this.getOptionsEl(!0,!0,!0),t=s.length;if(0===t)return;const i=this.csListing.querySelector(`.${this.classesForAdd.highlighted.join(".")}`);if(i){const n=s.indexOf(i);i.classList.remove(...this.classesForAdd.highlighted);const l=s["ArrowDown"===e?n+1<t?n+1:0:n-1>=0?n-1:t-1];l.classList.add(...this.classesForAdd.highlighted),this.#C(this.csListing,l);const o=l.parentElement;if(!o.classList.contains(...this.classesForAdd.optionGroupListing))return;const a=o.previousElementSibling,c=a&&a.querySelector(`.${this.classesForAdd.optionGroupExpandInput.join(".")}`);c&&!c.checked&&(c.checked=!0)}else{const e=this.csListing.querySelector(`.${this.classesForAdd.selected.join(".")}:not(.${this.classesForAdd.disabled.join(".")})`)||s[0];e.classList.add(...this.classesForAdd.highlighted),this.#C(this.csListing,e)}}#L(e){const s=e.target.value,t=e=>{const i=[];return e.forEach((e=>{if(e.options){const s=t(e.options);s.length&&i.push({...e,options:s})}else{this.#j(e.label).toLowerCase().includes(s.toLowerCase())&&i.push(e)}})),i};this.filterOptions=t(this.options),this.#a(),this.setSelectedValue(this.selectedValue)}#t(e){this.listen=e,this.observer&&(e&&this.observer.observe(this.originalSelect,{subtree:!0,childList:!0,attributes:!0}),e||this.observer.disconnect())}#s(e){if(!this.listen)return;let s=!1,t=!1,i=!1;for(const n of e)n.target===this.originalSelect&&("disabled"===n.attributeName&&(t=!0),"class"===n.attributeName&&(s=!0),(n.addedNodes.length>0||n.removedNodes.length>0)&&(i=!0)),"OPTGROUP"!==n.target.nodeName&&"OPTION"!==n.target.nodeName||(i=!0);t&&(this.#t(!1),this.originalSelect.disabled?this.disable():this.enable(),this.#t(!0)),i&&(this.#t(!1),this.setOptions(),this.#t(!0))}#x(){for(const e of this.originalSelect.options)e.selected=!1}#H(){this.csListing.querySelectorAll(`.${this.classesForAdd.selected.join(".")}`).forEach((e=>{e.ariaSelected=!1,e.classList.remove(...this.classesForAdd.selected,...this.classesForAdd.selectedHidden)}))}#D(e){e&&(e.ariaSelected=!0,e.classList.add(...this.classesForAdd.selected),this.settings.selectedOptionHidden&&e.classList.add(...this.classesForAdd.selectedHidden),"true"==e.dataset.placeholder?this.csLabel.classList.add(...this.classesForAdd.placeholder):this.csLabel.classList.remove(...this.classesForAdd.placeholder))}#q(e){Array.from(this.originalSelect.options).some((s=>{if(s.value==e)return s.selected=!0,!0}))||(this.#t(!1),this.originalSelect.appendChild(new Option(e,e,!1,!0)),this.#t(!0))}#I(){if(this.selectedValue.length>this.settings.maxValuesShown)this.csLabel.innerHTML=this.settings.maxValuesLabel.replace("{count}",this.selectedValue.length);else if(this.isMultipleSelect){this.csLabel.innerHTML=this.getSelectedObj().map((e=>this.#V(e))).join("");this.csLabel.querySelectorAll(`.${this.classesForAdd.selectedItemRemove.join(".")}`).forEach((e=>{e.addEventListener("click",(e=>{const s=e.target.dataset.id,t=this.getOptionObjBy("id",s).value,i=[...this.selectedValue];i.splice(i.indexOf(t),1),this.setSelectedValue(i)}))}))}else this.csLabel.innerHTML=this.getSelectedObj()[0]?.label??""}#V(e){return`\n            <div class="${this.classesForAdd.selectedItem.join(" ")}">\n                <div class="${this.classesForAdd.selectedItemLabel.join(" ")}">${e.label}</div>\n                <div class="${this.classesForAdd.selectedItemRemove.join(" ")}" data-id="${e.id}"></div>\n            </div>\n        `}#p(e=""){if(this.settings.allowHTML)return e;const s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return e.replace(/[&<>"']/g,(e=>s[e]))}#j(e){return e.replace(/<[^>]+>/gi,"")}#v(e,s,t){const i=new RegExp(s,"i"),[n]=e.match(i)||[];if(!n)return e;const l=e.indexOf(n),o=l+n.length,a=e.substring(l,o);return e.replace(i,`<mark class="${t}">${a}</mark>`)}#e(e){const s={length:10,number:!0,lowerCase:!0,upperCase:!0,special:!1,pattern:"",...e},{length:t,number:i,lowerCase:n,upperCase:l,special:o,pattern:a}=s,c="0123456789".split(""),d="abcdefghijklmnopqrstuvwxyz".split(""),r="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),h="!@#$%^&*()_-+=[]{}\\|;:'\"<>,.?/`~".split(""),p=[];i&&p.push(...c),n&&p.push(...d),l&&p.push(...r),o&&p.push(...h);let u="";if(a){const e=a.split("");for(let s=0;s<e.length;s++){const t=e[s];if("x"===t){u+=p[Math.floor(Math.random()*p.length)]}else u+=t}}else for(let e=0;e<t;e++){u+=p[Math.floor(Math.random()*p.length)]}return u}#C(e,s){if(!s)return;const{scrollTop:t=0,offsetTop:i=0,clientHeight:n=0}=e??{},{offsetTop:l=0,clientHeight:o=0}=s??{},a=i+n,c=l+o,d=s.parentElement.classList.contains(...this.classesForAdd.optionGroupListing)?s.parentElement.previousElementSibling.offsetHeight:0;l<t+i+d?e.scrollTop=l-i-d:c>t+a&&(e.scrollTop=c-a)}#u(e,s){switch(e){case"true":return!0;case"false":return!1;case void 0:return s||void 0;default:return e}}#E(e){const s="options";return e.flatMap((e=>Array.isArray(e[s])?this.#E(e[s]):e))}getSortedOptions(){return this.sortedOptions.length?this.sortedOptions:[...this.getOptions(!0)]}getOptionsEl(e=!1,s=!1,t=!1){let i=`.${this.classesForAdd.option.join(".")}`;return e&&(i+=`:not(.${this.classesForAdd.placeholder.join(".")})`),s&&(i+=`:not(.${this.classesForAdd.disabled.join(".")})`),t&&(i+=`:not(.${this.classesForAdd.hidden.join(".")})`),Array.from(this.csListing.querySelectorAll(i))}getOptionElBy(e,s){const t=this.getOptionObjBy(e,s).id;return this.csListing.querySelector(`li[data-id='${t}']`)}getOptionObjBy(e,s){return{...this.getOptions().find((t=>t[e]===s))??{}}}getSelectedObj(){return[...this.selectedValue.map((e=>this.getOptionObjBy("value",e)))]}getSelectedValue(){const e=this.selectedValue;return this.isMultipleSelect?e:e[0]}setSelectedValue(e="",s=!0){s&&!1===this.events.beforeChange(e,this.getSelectedValue(),this)||(this.#x(),this.#H(),this.selectedValue=Array.isArray(e)?e:[e],this.selectedValue.forEach((e=>{const s=this.getOptionElBy("value",e);this.#D(s),this.#q(e)})),this.#I(),s&&this.events.afterChange(this.getSelectedValue(),this))}getOptions(e=!1){return e?this.options:this.#E(this.options)}setOptions(e){this.options=this.#n(e),this.filterOptions=this.options,this.#a()}enable(){this.disabled=!1,this.originalSelect.disabled=!1,this.csSelect.classList.remove(...this.classesForAdd.disabled)}disable(){this.disabled=!0,this.originalSelect.disabled=!0,this.csSelect.classList.add(...this.classesForAdd.disabled)}destroy(){document.removeEventListener("click",(e=>this.#c(e))),this.csSelect.remove(),this.csDropdown.remove(),this.originalSelect.style.display=""}}"undefined"!=typeof module&&void 0!==module.exports?module.exports=CustomSelect:window.CustomSelect=CustomSelect;