class CustomSelect{constructor(e,{options:t,settings:s,events:i}={}){"string"==typeof e||e instanceof HTMLElement?(this.originalSelect=e instanceof HTMLElement?e:document.querySelector(e),this.originalSelect?"SELECT"===this.originalSelect.nodeName?(this.options=t||[],this.settings={allowDeselectAll:!1,alwaysOpen:!1,closeOnSelect:!0,openDirection:"auto",openPosition:"absolute",openLocation:"body",searchEnable:!0,searchPlaceholder:"Search",searchNoResult:"No result",searchMark:!0,selectedOptionHidden:!1,checkboxMode:!1,sortMode:!1,maxValuesShown:20,maxValuesLabel:"{count} selected",allowHTML:!1,classNames:{},...s},this.events={beforeOpen:()=>{},afterOpen:()=>{},beforeClose:()=>{},afterClose:()=>{},beforeChange:(e,t)=>{},afterChange:e=>{},afterSort:e=>{},...i},this.csId=`cs-${this.#e()}`,this.csSelect=null,this.csLabel=null,this.csDropdown=null,this.csSearch=null,this.csListing=null,this.selectedValue=[],this.filterOptions=[],this.sortedOptions=[],this.openLocation=this.settings.openLocation instanceof HTMLElement?this.settings.openLocation:document.querySelector(this.settings.openLocation),this.intervalRejustPosition=null,this.isOpen=!1,this.disabled=!1,this.isMultipleSelect=this.originalSelect.multiple||!1,this.listen=!1,this.observer=new MutationObserver((e=>this.#t(e))),this.classes={select:"cs-select",label:"cs-label",dropdown:"cs-dropdown",listing:"cs-listing",option:"cs-option",optionGroup:"cs-optionGroup",optionGroupLabel:"cs-optionGroup-label",optionGroupExpandInput:"cs-optionGroup-expandInput",optionGroupListing:"cs-optionGroup-listing",arrow:"cs-arrow",deselectAll:"cs-deselectAll",checkbox:"cs-checkbox",relative:"cs-relative",openUp:"cs-open-up",openDown:"cs-open-down",selected:"cs-selected",highlighted:"cs-highlighted",disabled:"cs-disabled",hidden:"cs-hidden",selectedHidden:"cs-selectedHidden",placeholder:"cs-placeholder",searchWrapper:"cs-searchWrapper",search:"cs-search",searchNoResult:"cs-searchNoResult",searchMark:"cs-searchMark",selectedItem:"cs-selectedItem",selectedItemLabel:"cs-selectedItem-label",selectedItemRemove:"cs-selectedItem-remove",dndHandle:"cs-dndHandle"},this.classesForAdd={},Object.entries(this.classes).forEach((([e,t])=>{this.classesForAdd[e]=[...t.split(" ")];const s=this.settings.classNames[e];s&&this.classesForAdd[e].push(...s.split(" "))})),this.init()):console.error("CustomSelect: target element must be a select element."):console.error("CustomSelect: target element not found.")):console.error("CustomSelect: target element(1st argument) is required.")}#s(){if(!this.settings.appendCSS)return;const e="cs-css";if(document.getElementById(e))return;const t=document.createElement("style");t.id=e,document.head.appendChild(t),fetch("https://cdn.jsdelivr.net/npm/custom-select.js@latest/customselect.min.css").then((e=>e.text())).then((e=>{t.innerHTML=e})).catch((e=>{console.error(e)}))}init(){this.originalSelect.style.display="none",this.originalSelect.ariaHidden=!0,this.originalSelect.addEventListener("change",(e=>{if(this.isMultipleSelect){const t=Array.from(e.target.selectedOptions).map((e=>e.value));this.setSelectedValue(t)}else this.setSelectedValue(e.target.value)})),this.originalSelect.form&&this.originalSelect.form.addEventListener("reset",(()=>{this.setSelectedValue(this.getInitialValue())})),this.options=this.#i(this.options),this.filterOptions=this.options,this.#n(),this.#l(),this.#o(),document.addEventListener("click",(e=>this.#a(e))),this.#d(),this.setSelectedValue(this.getInitialValue()),this.settings.alwaysOpen&&this.#c(),this.#r(!0)}#h(e){if(e.options)return{id:this.#p(e.id)||this.#e(),label:this.#p(e.label),options:e.options.map((e=>this.#h(e))),groupExpanded:this.#u(e.groupExpanded,!0)};const t=e instanceof HTMLElement?"true"===e.dataset.placeholder||!1:e.placeholder||!1,s=t?"":e.value||e.label;return{id:this.#p(e.id)||this.#e(),label:this.#p(e.label),value:s,placeholder:t,selected:e.selected||!1,disabled:e.disabled||!1,hidden:e.hidden||!1,class:e instanceof HTMLElement?e.className||null:e.class||null,style:e instanceof HTMLElement?e.style.cssText||null:e.style||null}}#i(e=[]){if(e.length)return e.map((e=>this.#h(e)));{const e=[];for(const t of this.originalSelect.children)if("OPTION"===t.nodeName&&e.push(this.#h(t)),"OPTGROUP"===t.nodeName){const s=[];for(const e of t.children)s.push(this.#h(e));e.push({id:t.id||this.#e(),label:this.#p(t.label),options:s,groupExpanded:this.#u(t.dataset.expanded,!0)})}return e}}#n(){const e=document.createElement("div");e.role="combobox",e.ariaHasPopup="listbox",e.ariaControls=this.csId,e.ariaExpanded=!1,e.id=this.csId,e.tabIndex=0,e.classList.add(...this.classesForAdd.select),e.addEventListener("keydown",(e=>this.#g(e))),e.addEventListener("click",(()=>this.isOpen?this.#m():this.#c()));const t=document.createElement("div");if(t.classList.add(...this.classesForAdd.label),this.csLabel=t,e.appendChild(this.csLabel),this.settings.allowDeselectAll){const t=document.createElement("div");t.classList.add(...this.classesForAdd.deselectAll),t.addEventListener("click",(e=>{e.stopPropagation(),this.isMultipleSelect?this.setSelectedValue([]):this.setSelectedValue("")})),e.appendChild(t)}const s=document.createElement("div");s.classList.add(...this.classesForAdd.arrow),s.innerHTML='<svg width="24" viewBox="0 0 20 20"><path d="M2,6 L10,14 L18,6" /></svg>',e.appendChild(s),this.csSelect=e,this.originalSelect.insertAdjacentElement("afterend",this.csSelect)}#l(){const e=document.createElement("div");if(e.role="listbox",e.id=this.csId,e.classList.add(...this.classesForAdd.dropdown),"relative"===this.settings.openPosition&&e.classList.add(...this.classesForAdd.relative),this.settings.searchEnable){const t=document.createElement("div");t.classList.add(...this.classesForAdd.searchWrapper);const s=document.createElement("input");s.type="search",s.placeholder=this.settings.searchPlaceholder,s.autocomplete="off",s.autocorrect="off",s.autocapitalize="off",this.settings.alwaysOpen||(s.tabIndex=-1),s.classList.add(...this.classesForAdd.search),s.addEventListener("input",(e=>this.#L(e))),s.addEventListener("keydown",(e=>this.#g(e))),s.addEventListener("blur",(()=>{this.csListing.querySelector(`.${this.classesForAdd.highlighted.join(".")}`)?.classList.remove(...this.classesForAdd.highlighted)})),this.csSearch=s,t.appendChild(this.csSearch),e.appendChild(t)}const t=document.createElement("ul");t.classList.add(...this.classesForAdd.listing),this.csListing=t,e.appendChild(this.csListing),this.csDropdown=e,this.openLocation.insertAdjacentElement("beforeend",this.csDropdown)}#o(){if(this.csListing.innerHTML="",this.filterOptions.length)this.filterOptions.forEach((e=>{e.options?this.csListing.appendChild(this.#f(e)):this.csListing.appendChild(this.#S(e))}));else{const e=document.createElement("li");e.classList.add(...this.classesForAdd.searchNoResult),e.innerHTML=this.#p(this.settings.searchNoResult),this.csListing.appendChild(e)}this.settings.sortMode&&this.#b()}#S(e){const t=document.createElement("li");if(t.role="option",t.ariaSelected=e.selected,t.dataset.id=e.id,e.placeholder&&(t.dataset.placeholder=e.placeholder),this.settings.searchMark&&this.csSearch&&this.csSearch.value){const s=this.csSearch.value.trim();t.innerHTML=this.#v(e.label,s,this.classesForAdd.searchMark.join(" "))}else t.innerHTML=e.label;if(t.classList.add(...this.classesForAdd.option),this.settings.checkboxMode){const e=document.createElement("div");e.classList.add(...this.classesForAdd.checkbox),t.insertAdjacentElement("afterbegin",e)}return this.settings.sortMode&&t.insertAdjacentElement("afterbegin",this.#A()),e.hidden&&t.classList.add(...this.classesForAdd.hidden),e.disabled?t.classList.add(...this.classesForAdd.disabled):t.addEventListener("click",(e=>this.#O(e))),e.class&&(t.className+=` ${e.class}`),e.style&&(t.style.cssText=e.style),t}#f(e){const t=document.createElement("li");t.role="group",t.dataset.id=e.id,t.classList.add(...this.classesForAdd.optionGroup);const s=document.createElement("label");if(s.classList.add(...this.classesForAdd.optionGroupLabel),s.innerHTML=e.label,this.settings.checkboxMode){const t=document.createElement("div");t.classList.add(...this.classesForAdd.checkbox),this.isMultipleSelect&&t.addEventListener("click",(t=>{t.preventDefault();const s=[...this.selectedValue];let i=!0;const n=this.#w(e.options);n.forEach((e=>{s.includes(e.value)||(i=!1,s.push(e.value))})),i&&n.forEach((e=>{s.splice(s.indexOf(e.value),1)})),this.setSelectedValue(s)})),s.insertAdjacentElement("afterbegin",t)}if(this.settings.sortMode&&s.insertAdjacentElement("afterbegin",this.#A()),"off"!==e.groupExpanded){const t=document.createElement("div");t.classList.add(...this.classesForAdd.arrow),t.innerHTML=`\n                <input class="${this.classesForAdd.optionGroupExpandInput.join(" ")}" type="checkbox" ${e.groupExpanded?"checked":""} tabindex="-1">\n                <svg width="24" viewBox="0 0 20 20"><path d="M2,6 L10,14 L18,6" /></svg>\n            `,s.appendChild(t)}t.appendChild(s);const i=document.createElement("ul");return i.classList.add(...this.classesForAdd.optionGroupListing),e.options.forEach((e=>{e.options?i.appendChild(this.#f(e)):i.appendChild(this.#S(e))})),t.appendChild(i),t}#b(){if("undefined"==typeof require)return;const e=require("sortablejs").default,t=[this.csListing,...this.csListing.querySelectorAll(`.${this.classesForAdd.optionGroupListing.join(".")}`)];for(const s of t)new e(s,{group:"nested",animation:300,swapThreshold:.5,handle:`.${this.classesForAdd.dndHandle}`,onSort:e=>{const{oldIndex:t,newIndex:s,from:i,to:n,target:l}=e;if(i!==l)return;const o=this.sortedOptions.length?this.sortedOptions:[...this.getOptions(!0)];if(i===n)if(i===this.csListing&&n===this.csListing){const e=o.splice(t,1)[0];o.splice(s,0,e)}else{const e=i.parentElement.dataset.id,n=o.find((t=>t.id===e)),l=n.options.splice(t,1)[0];n.options.splice(s,0,l)}else if(i===this.csListing){const e=o.splice(t,1)[0],i=n.parentElement.dataset.id;o.find((e=>e.id===i)).options.splice(s,0,e)}else if(n===this.csListing){const e=i.parentElement.dataset.id,n=o.find((t=>t.id===e)).options.splice(t,1)[0];o.splice(s,0,n)}else{const e=i.parentElement.dataset.id,l=o.find((t=>t.id===e)),a=n.parentElement.dataset.id,d=o.find((e=>e.id===a)),c=l.options.splice(t,1)[0];d.options.splice(s,0,c)}this.sortedOptions=o,this.events.afterSort(o)}})}#A(){const e=document.createElement("div");return e.classList.add(...this.classesForAdd.dndHandle),e.innerHTML='<svg viewBox="0 -960 960 960"><path d="M360-160q-33 0-56.5-23.5T280-240q0-33 23.5-56.5T360-320q33 0 56.5 23.5T440-240q0 33-23.5 56.5T360-160Zm240 0q-33 0-56.5-23.5T520-240q0-33 23.5-56.5T600-320q33 0 56.5 23.5T680-240q0 33-23.5 56.5T600-160ZM360-400q-33 0-56.5-23.5T280-480q0-33 23.5-56.5T360-560q33 0 56.5 23.5T440-480q0 33-23.5 56.5T360-400Zm240 0q-33 0-56.5-23.5T520-480q0-33 23.5-56.5T600-560q33 0 56.5 23.5T680-480q0 33-23.5 56.5T600-400ZM360-640q-33 0-56.5-23.5T280-720q0-33 23.5-56.5T360-800q33 0 56.5 23.5T440-720q0 33-23.5 56.5T360-640Zm240 0q-33 0-56.5-23.5T520-720q0-33 23.5-56.5T600-800q33 0 56.5 23.5T680-720q0 33-23.5 56.5T600-640Z"/></svg>',e}#d(){if("relative"===this.settings.openPosition)return;const e=this.csSelect.getBoundingClientRect(),t=this.openLocation.getBoundingClientRect(),s=e.top-t.top,i=e.left-t.left;this.openLocation.style.position="relative",this.csDropdown.style.top=`${s+e.height}px`,this.csDropdown.style.left=`${i}px`,this.csDropdown.style.width=`${e.width}px`}#E(e){this.#d(),this.csSelect.classList.contains(...e)&&this.csDropdown.classList.contains(...e)||(this.csSelect.classList.remove(...this.classesForAdd.openUp,...this.classesForAdd.openDown),this.csDropdown.classList.remove(...this.classesForAdd.openUp,...this.classesForAdd.openDown),this.csSelect.classList.add(...e),this.csDropdown.classList.add(...e))}#T(){this.#E(this.classesForAdd.openUp);const e=this.csSelect.getBoundingClientRect(),t=this.csDropdown.offsetHeight;this.csDropdown.style.marginTop=`-${e.height+t}px`}#F(){this.#E(this.classesForAdd.openDown),this.csDropdown.style.marginTop="0px"}#y(){const e=this.csSelect.getBoundingClientRect(),t=this.csDropdown.offsetHeight;window.innerHeight-e.bottom<t?this.#T():this.#F()}#c(){this.isOpen||this.disabled||(this.events.beforeOpen(),this.isOpen=!0,this.csSelect.ariaExpanded=!0,"relative"===this.settings.openPosition?this.#F():"auto"==this.settings.openDirection?(this.#y(),this.intervalRejustPosition=setInterval((()=>this.#y()),500)):"up"==this.settings.openDirection?(this.#T(),this.intervalRejustPosition=setInterval((()=>this.#T()),500)):"down"==this.settings.openDirection&&(this.#F(),this.intervalRejustPosition=setInterval((()=>this.#F()),500)),this.#C(this.csListing,this.csListing.querySelector(`.${this.classesForAdd.selected.join(".")}`)),this.csSearch&&this.csSearch.focus(),this.events.afterOpen())}#m(){this.isOpen&&!this.settings.alwaysOpen&&(this.intervalRejustPosition&&(clearInterval(this.intervalRejustPosition),this.intervalRejustPosition=null),this.events.beforeClose(),this.isOpen=!1,this.csSelect.ariaExpanded=!1,this.csSelect.classList.remove(...this.classesForAdd.openUp,...this.classesForAdd.openDown),this.csDropdown.classList.remove(...this.classesForAdd.openUp,...this.classesForAdd.openDown),this.csListing.querySelector(`.${this.classesForAdd.highlighted.join(".")}`)?.classList.remove(...this.classesForAdd.highlighted),this.csSearch&&this.csSearch.value&&(this.csSearch.value="",this.csSearch.dispatchEvent(new Event("input"))),this.events.afterClose())}#a(e){e.target.closest(`.${this.classesForAdd.select.join(".")}#${this.csId}`)||e.target.closest(`.${this.classesForAdd.dropdown.join(".")}#${this.csId}`)||this.#m()}#O(e){if("option"!==e.target.role)return;const t=e.target.dataset.id,s=this.getOptionObjBy("id",t).value;if(this.isMultipleSelect)if(this.selectedValue.includes(s)){const e=this.selectedValue.filter((e=>e!==s));this.setSelectedValue(e)}else this.setSelectedValue([...this.selectedValue,s]);else this.setSelectedValue(s);this.settings.closeOnSelect&&this.#m()}#g(e){switch(e.key){case"ArrowUp":case"ArrowDown":e.preventDefault(),this.isOpen?this.#M(e.key):this.#c();break;case" ":case"Enter":if(this.isOpen){const t=this.csListing.querySelector(`.${this.classesForAdd.highlighted.join(".")}`);t&&(e.preventDefault(),t.click())}else e.preventDefault(),this.#c();break;case"Tab":case"Escape":this.#m(),this.csSelect.focus()}}#M(e){const t=this.getOptionsEl(!0,!0,!0),s=t.length;if(0===s)return;const i=this.csListing.querySelector(`.${this.classesForAdd.highlighted.join(".")}`);if(i){const n=t.indexOf(i);i.classList.remove(...this.classesForAdd.highlighted);const l=t["ArrowDown"===e?n+1<s?n+1:0:n-1>=0?n-1:s-1];l.classList.add(...this.classesForAdd.highlighted),this.#C(this.csListing,l);const o=l.parentElement;if(!o.classList.contains(...this.classesForAdd.optionGroupListing))return;const a=o.previousElementSibling,d=a&&a.querySelector(`.${this.classesForAdd.optionGroupExpandInput.join(".")}`);d&&!d.checked&&(d.checked=!0)}else{const e=this.csListing.querySelector(`.${this.classesForAdd.selected.join(".")}:not(.${this.classesForAdd.disabled.join(".")})`)||t[0];e.classList.add(...this.classesForAdd.highlighted),this.#C(this.csListing,e)}}#L(e){const t=e.target.value,s=e=>{const i=[];return e.forEach((e=>{if(e.options){const t=s(e.options);t.length&&i.push({...e,options:t})}else{this.#j(e.label).toLowerCase().includes(t.toLowerCase())&&i.push(e)}})),i};this.filterOptions=s(this.options),this.#o(),this.setSelectedValue(this.selectedValue)}#r(e){this.listen=e,this.observer&&(e&&this.observer.observe(this.originalSelect,{subtree:!0,childList:!0,attributes:!0}),e||this.observer.disconnect())}#t(e){if(!this.listen)return;let t=!1,s=!1,i=!1;for(const n of e)n.target===this.originalSelect&&("disabled"===n.attributeName&&(s=!0),"class"===n.attributeName&&(t=!0),(n.addedNodes.length>0||n.removedNodes.length>0)&&(i=!0)),"OPTGROUP"!==n.target.nodeName&&"OPTION"!==n.target.nodeName||(i=!0);s&&(this.#r(!1),this.originalSelect.disabled?this.disable():this.enable(),this.#r(!0)),i&&(this.#r(!1),this.setOptions(),this.#r(!0))}#H(){for(const e of this.originalSelect.options)e.selected=!1}#x(){this.csListing.querySelectorAll(`.${this.classesForAdd.selected.join(".")}`).forEach((e=>{e.ariaSelected=!1,e.classList.remove(...this.classesForAdd.selected,...this.classesForAdd.selectedHidden)}))}#D(e){e&&(e.ariaSelected=!0,e.classList.add(...this.classesForAdd.selected),this.settings.selectedOptionHidden&&e.classList.add(...this.classesForAdd.selectedHidden),"true"==e.dataset.placeholder?this.csLabel.classList.add(...this.classesForAdd.placeholder):this.csLabel.classList.remove(...this.classesForAdd.placeholder))}#I(e){Array.from(this.originalSelect.options).some((t=>{if(t.value==e)return t.selected=!0,!0}))||(this.#r(!1),this.originalSelect.appendChild(new Option(e,e,!1,!0)),this.#r(!0))}#V(){if(this.settings.allowDeselectAll){const e=this.csSelect.querySelector(`.${this.classesForAdd.deselectAll.join(".")}`);this.getSelectedValue().length?e?.classList.remove(...this.classesForAdd.hidden):e?.classList.add(...this.classesForAdd.hidden)}if(this.csLabel.innerHTML="",this.isMultipleSelect){if(this.selectedValue.length>this.settings.maxValuesShown)return void(this.csLabel.innerHTML=this.settings.maxValuesLabel.replace("{count}",this.selectedValue.length));this.csLabel.innerHTML=this.getSelectedObj().map((e=>this.#q(e))).join("");this.csLabel.querySelectorAll(`.${this.classesForAdd.selectedItemRemove.join(".")}`).forEach((e=>{e.addEventListener("click",(e=>{const t=e.target.dataset.id,s=this.getOptionObjBy("id",t).value,i=[...this.selectedValue];i.splice(i.indexOf(s),1),this.setSelectedValue(i)}))}))}else this.csLabel.innerHTML=this.getSelectedObj()[0]?.label??""}#q(e){return`\n            <div class="${this.classesForAdd.selectedItem.join(" ")}">\n                <div class="${this.classesForAdd.selectedItemLabel.join(" ")}">${e.label}</div>\n                <div class="${this.classesForAdd.selectedItemRemove.join(" ")}" data-id="${e.id}"></div>\n            </div>\n        `}#p(e=""){if(this.settings.allowHTML)return e;const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return e.replace(/[&<>"']/g,(e=>t[e]))}#j(e){return e.replace(/<[^>]+>/gi,"")}#v(e,t,s){const i=new RegExp(t,"i"),[n]=e.match(i)||[];if(!n)return e;const l=e.indexOf(n),o=l+n.length,a=e.substring(l,o);return e.replace(i,`<mark class="${s}">${a}</mark>`)}#e(e){const t={length:10,number:!0,lowerCase:!0,upperCase:!0,special:!1,pattern:"",...e},{length:s,number:i,lowerCase:n,upperCase:l,special:o,pattern:a}=t,d="0123456789".split(""),c="abcdefghijklmnopqrstuvwxyz".split(""),r="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),h="!@#$%^&*()_-+=[]{}\\|;:'\"<>,.?/`~".split(""),p=[];i&&p.push(...d),n&&p.push(...c),l&&p.push(...r),o&&p.push(...h);let u="";if(a){const e=a.split("");for(let t=0;t<e.length;t++){const s=e[t];if("x"===s){u+=p[Math.floor(Math.random()*p.length)]}else u+=s}}else for(let e=0;e<s;e++){u+=p[Math.floor(Math.random()*p.length)]}return u}#C(e,t){if(!t)return;const{scrollTop:s=0,offsetTop:i=0,clientHeight:n=0}=e??{},{offsetTop:l=0,clientHeight:o=0}=t??{},a=i+n,d=l+o,c=t.parentElement.classList.contains(...this.classesForAdd.optionGroupListing)?t.parentElement.previousElementSibling.offsetHeight:0;l<s+i+c?e.scrollTop=l-i-c:d>s+a&&(e.scrollTop=d-a)}#u(e,t){switch(e){case"true":return!0;case"false":return!1;case void 0:return t||void 0;default:return e}}#w(e){const t="options";return e.flatMap((e=>Array.isArray(e[t])?this.#w(e[t]):e))}getInitialValue(){return this.getOptions().filter((e=>e.selected)).map((e=>e.value))}getSortedOptions(){return this.sortedOptions.length?this.sortedOptions:[...this.getOptions(!0)]}getOptionsEl(e=!1,t=!1,s=!1){let i=`.${this.classesForAdd.option.join(".")}`;return e&&(i+=`:not(.${this.classesForAdd.placeholder.join(".")})`),t&&(i+=`:not(.${this.classesForAdd.disabled.join(".")})`),s&&(i+=`:not(.${this.classesForAdd.hidden.join(".")})`),Array.from(this.csListing.querySelectorAll(i))}getOptionElBy(e,t){const s=this.getOptionObjBy(e,t).id;return this.csListing.querySelector(`li[data-id='${s}']`)}getOptionObjBy(e,t){return{...this.getOptions().find((s=>s[e]===t))??{}}}getSelectedObj(){return[...this.selectedValue.map((e=>this.getOptionObjBy("value",e)))]}getSelectedValue(){const e=this.selectedValue;return this.isMultipleSelect?e:e[0]}setSelectedValue(e=[],t=!0){t&&!1===this.events.beforeChange(e,this.getSelectedValue(),this)||(this.#H(),this.#x(),this.selectedValue=Array.isArray(e)?e:[e],this.selectedValue.forEach((e=>{const t=this.getOptionElBy("value",e);this.#D(t),this.#I(e)})),this.#V(),t&&this.events.afterChange(this.getSelectedValue(),this))}getOptions(e=!1){return e?this.options:this.#w(this.options)}setOptions(e){this.options=this.#i(e),this.filterOptions=this.options,this.#o()}enable(){this.disabled=!1,this.originalSelect.disabled=!1,this.csSelect.classList.remove(...this.classesForAdd.disabled)}disable(){this.disabled=!0,this.originalSelect.disabled=!0,this.csSelect.classList.add(...this.classesForAdd.disabled)}destroy(){this.#r(!1),document.removeEventListener("click",(e=>this.#a(e))),this.csSelect.remove(),this.csDropdown.remove(),this.originalSelect.style.display=""}}"undefined"!=typeof module&&void 0!==module.exports?module.exports=CustomSelect:window.CustomSelect=CustomSelect;
if (typeof document !== "undefined") {
    const style = document.createElement("style");
    document.head.appendChild(style);
    style.innerHTML = `.cs-select{display:flex;align-items:center;gap:4px;width:100%;min-height:36px;padding:8px 12px;border:1px solid #aaa;border-radius:6px;background-color:#fff;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;-webkit-tap-highlight-color:transparent}.cs-select:focus-visible:not(.cs-disabled),.cs-select:focus:not(.cs-disabled),.cs-select:hover:not(.cs-disabled){outline:0;border-color:#555}.cs-select.cs-disabled{background-color:#dbdbdb;pointer-events:none}.cs-select.cs-open-down .cs-arrow,.cs-select.cs-open-up .cs-arrow{transform:rotate(180deg)}.cs-select .cs-label{flex:1;display:flex;flex-wrap:wrap;gap:6px}.cs-select .cs-label .cs-selectedItem{font-size:14px;line-height:18px;display:flex;align-items:center;gap:4px;padding:2px 8px;border-radius:9999px;background-color:#d9e0f6;border:1px solid #011c70}.cs-select .cs-label .cs-selectedItem .cs-selectedItem-label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.cs-select .cs-placeholder{color:#aaa}.cs-dropdown{position:absolute;z-index:1;display:flex;flex-direction:column;min-width:-moz-min-content;min-width:min-content;background-color:#fff;box-shadow:0 2px 10px rgba(170,170,170,.6);transition:opacity .2s,transform .2s;transform-origin:center top}.cs-dropdown.cs-relative{position:relative;min-width:auto;height:100%;box-shadow:none}.cs-dropdown .cs-searchWrapper{padding:8px}.cs-dropdown .cs-search{outline:0;font-size:14px;line-height:18px;width:100%;padding:6px 8px;border-radius:8px;border:1px solid #ccc;background-repeat:no-repeat;background-position:center right 12px;background-size:16px}.cs-dropdown .cs-search:-moz-placeholder-shown{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="%23888" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>')}.cs-dropdown .cs-search:placeholder-shown{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="%23888" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>')}.cs-dropdown .cs-search::-webkit-search-cancel-button{-webkit-appearance:none;height:16px;width:16px;background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="6" y1="6" x2="18" y2="18" /><line x1="18" y1="6" x2="6" y2="18" /></svg>');background-repeat:no-repeat;background-position:center;cursor:pointer}.cs-dropdown:not(.cs-open-down,.cs-open-up){opacity:0;transform:scaleY(0)}.cs-dropdown.cs-open-up{flex-direction:column-reverse;transform-origin:center bottom}.cs-dropdown .cs-listing{list-style:none;padding:0;margin:0;max-height:280px;overflow:auto;scroll-behavior:smooth}.cs-dropdown .cs-listing::-webkit-scrollbar{-webkit-appearance:none;width:6px}.cs-dropdown .cs-listing::-webkit-scrollbar-thumb{border-radius:8px;background-color:#aaa}.cs-dropdown .cs-listing:has(.cs-checkbox){padding-bottom:8px}.cs-dropdown .cs-listing:has(.cs-checkbox):only-child{padding:8px 0}.cs-dropdown .cs-listing .cs-option{white-space:pre;display:flex;align-items:center;padding:8px 12px;color:#000;cursor:pointer}.cs-dropdown .cs-listing .cs-option:has(.cs-checkbox){padding:4px 12px}.cs-dropdown .cs-listing .cs-option:hover:not(.cs-optionGroup,.cs-disabled,.cs-selected):not(:has(.cs-checkbox)){background-color:#d9e0f6;color:#000}.cs-dropdown .cs-listing .cs-option.cs-selectedSome::before{background-image:url('data:image/svg+xml,<svg width="100%" height="100%" viewBox="0 0 20 20" stroke-linecap="round" stroke-linejoin="round" fill="none" stroke="currentColor" stroke-width="2" xmlns="http://www.w3.org/2000/svg"><path d="M4,10 L16,10" /></svg>')}.cs-dropdown .cs-listing .cs-option.cs-selected:not(:has(.cs-checkbox)){background-color:#011c70;color:#fff}.cs-dropdown .cs-listing .cs-option.cs-selected .cs-checkbox::before{background-image:url('data:image/svg+xml,<svg width="100%" height="100%" viewBox="0 0 20 20" stroke-linecap="round" stroke-linejoin="round" fill="none" stroke="currentColor" stroke-width="2" xmlns="http://www.w3.org/2000/svg"><path d="M4,10 L8,14 L16,6" /></svg>')}.cs-dropdown .cs-listing .cs-option.cs-highlighted:not(:has(.cs-checkbox)){background-color:#d9e0f6;color:#000}.cs-dropdown .cs-listing .cs-option.cs-highlighted .cs-checkbox::before{background-color:#d9e0f6}.cs-dropdown .cs-listing .cs-option.cs-disabled{background-color:#dbdbdb;pointer-events:none}.cs-dropdown .cs-listing .cs-option.cs-hidden,.cs-dropdown .cs-listing .cs-option.cs-selectedHidden{display:none}.cs-dropdown .cs-listing .cs-option .cs-searchMark{background-color:mark}.cs-dropdown .cs-listing .cs-option .cs-checkbox{pointer-events:none}.cs-dropdown .cs-listing .cs-optionGroup{display:block}.cs-dropdown .cs-listing .cs-optionGroup .cs-optionGroup-label{font-weight:700;white-space:nowrap;position:sticky;top:0;z-index:1;background-color:#fff;display:flex;align-items:center;padding:8px 12px;cursor:default}.cs-dropdown .cs-listing .cs-optionGroup .cs-optionGroup-label:has(.cs-optionGroup-expandInput){cursor:pointer}.cs-dropdown .cs-listing .cs-optionGroup .cs-optionGroup-label .cs-optionGroup-expandInput{position:absolute;width:0;height:0;opacity:0;pointer-events:none}.cs-dropdown .cs-listing .cs-optionGroup .cs-optionGroup-label .cs-arrow{transform:rotate(180deg)}.cs-dropdown .cs-listing .cs-optionGroup .cs-optionGroup-listing{list-style:none;padding:0}.cs-dropdown .cs-listing .cs-optionGroup .cs-optionGroup-listing .cs-option{padding-left:28px}.cs-dropdown .cs-listing .cs-optionGroup .cs-optionGroup-listing .cs-optionGroup .cs-optionGroup-label{position:static;padding-left:28px!important}.cs-dropdown .cs-listing .cs-optionGroup .cs-optionGroup-listing .cs-optionGroup .cs-optionGroup-listing{padding-left:16px}.cs-dropdown .cs-listing .cs-optionGroup:has(.cs-option .cs-checkbox) .cs-optionGroup-label{padding:4px 12px}.cs-dropdown .cs-listing .cs-optionGroup:has(.cs-option.cs-selected)>.cs-optionGroup-label .cs-checkbox::before{background-image:url('data:image/svg+xml,<svg width="100%" height="100%" viewBox="0 0 20 20" stroke-linecap="round" stroke-linejoin="round" fill="none" stroke="currentColor" stroke-width="2" xmlns="http://www.w3.org/2000/svg"><path d="M4,10 L16,10" /></svg>')}.cs-dropdown .cs-listing .cs-optionGroup:has(.cs-option.cs-selected):not(:has(.cs-option:not(.cs-selected))) .cs-optionGroup-label .cs-checkbox::before{background-image:url('data:image/svg+xml,<svg width="100%" height="100%" viewBox="0 0 20 20" stroke-linecap="round" stroke-linejoin="round" fill="none" stroke="currentColor" stroke-width="2" xmlns="http://www.w3.org/2000/svg"><path d="M4,10 L8,14 L16,6" /></svg>')}.cs-dropdown .cs-listing .cs-optionGroup:has(>.cs-optionGroup-label .cs-optionGroup-expandInput):not(:has(>.cs-optionGroup-label .cs-optionGroup-expandInput:checked)) .cs-arrow{transform:rotate(0deg)}.cs-dropdown .cs-listing .cs-optionGroup:has(>.cs-optionGroup-label .cs-optionGroup-expandInput):not(:has(>.cs-optionGroup-label .cs-optionGroup-expandInput:checked)) .cs-optionGroup-listing{display:none}.cs-dropdown .cs-listing .cs-searchNoResult{padding:8px 12px;color:#000}.cs-arrow{width:24px;height:24px;margin-left:auto;transition:all .2s}.cs-arrow svg{width:100%;height:100%;padding:6px}.cs-arrow svg path{fill:none;stroke:currentColor;stroke-width:4;stroke-linecap:round;stroke-linejoin:round}.cs-arrow,.cs-checkbox{flex-shrink:0}.cs-checkbox::before{content:"";box-sizing:border-box;display:block;width:24px;height:24px;margin-right:4px;border-radius:4px;border:1px solid #dee2e6;background-size:16px}.cs-dndHandle{flex-shrink:0;width:20px;height:20px;margin-right:4px}.cs-dndHandle svg{width:100%;height:100%;fill:currentColor}.cs-checkbox::before,.cs-deselectAll,.cs-selectedItem-remove{flex-shrink:0;background-repeat:no-repeat;background-position:center;cursor:pointer}.cs-deselectAll,.cs-selectedItem-remove{width:12px;height:12px;background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="grey" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="6" y1="6" x2="18" y2="18" /><line x1="18" y1="6" x2="6" y2="18" /></svg>');transition:filter .2s}.cs-deselectAll:hover,.cs-selectedItem-remove:hover{filter:brightness(.5)}.cs-deselectAll.cs-hidden,.cs-selectedItem-remove.cs-hidden{display:none}`
}
        